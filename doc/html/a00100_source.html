<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>fastcgi++: http.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">fastcgi++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_8c95d86379560d59b3e85e1cc950819f.html">include</a></li><li class="navelem"><a class="el" href="dir_708537dc6ffc026db074dae4979ce396.html">fastcgi++</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">http.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="a00100.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/***************************************************************************</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">* Copyright (C) 2007 Eddie Carle [eddie@erctech.org]                       *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">*                                                                          *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">* This file is part of fastcgi++.                                          *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">*                                                                          *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">* fastcgi++ is free software: you can redistribute it and/or modify it     *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">* under the terms of the GNU Lesser General Public License as  published   *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">* by the Free Software Foundation, either version 3 of the License, or (at *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">* your option) any later version.                                          *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">*                                                                          *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">* fastcgi++ is distributed in the hope that it will be useful, but WITHOUT *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">* ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or    *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">* FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public     *</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">* License for more details.                                                *</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">*                                                                          *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">* You should have received a copy of the GNU Lesser General Public License *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">* along with fastcgi++.  If not, see &lt;http://www.gnu.org/licenses/&gt;.       *</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">****************************************************************************/</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#ifndef HTTP_HPP</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define HTTP_HPP</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;boost/shared_array.hpp&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;boost/scoped_array.hpp&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;boost/date_time/posix_time/posix_time.hpp&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;ostream&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;istream&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a00096.html" title="Defines fastcgi++ exceptions.">fastcgi++/exceptions.hpp</a>&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a00107.html" title="Defines FastCGI protocol.">fastcgi++/protocol.hpp</a>&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">namespace </span>Fastcgipp</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="code" href="a00120.html">   44</a></span>&#160;   <span class="keyword">namespace </span>Http</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="code" href="a00046.html">   58</a></span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="keywordtype">char</span>T&gt; <span class="keyword">struct </span><a class="code" href="a00046.html" title="Holds a piece of HTTP post data.">Post</a></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      {</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="code" href="a00046.html#a8315ca4537cb20b5baa726f58b0ccebd">   61</a></span>&#160;         <span class="keyword">enum</span> <a class="code" href="a00046.html#a8315ca4537cb20b5baa726f58b0ccebd" title="Type of POST data piece.">Type</a> { <a class="code" href="a00046.html#a8315ca4537cb20b5baa726f58b0ccebda21192aadafe1d0c40c1740b8374fb854">file</a>, <a class="code" href="a00046.html#a8315ca4537cb20b5baa726f58b0ccebdac5b6a0518a555d90ffcc5c0c32a522ec">form</a> } <a class="code" href="a00046.html#aa081e03d3866f241019f2f4542ad3108">type</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="code" href="a00046.html#a7b7dedc8dc2ee9024d9117b31e265b22">   63</a></span>&#160;         std::basic_string&lt;charT&gt; <a class="code" href="a00046.html#a7b7dedc8dc2ee9024d9117b31e265b22" title="Value of POST data if type=form.">value</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="code" href="a00046.html#a5b6a59ca9f64e1594be7072c1291976a">   65</a></span>&#160;         std::basic_string&lt;charT&gt;&amp; <a class="code" href="a00046.html#a5b6a59ca9f64e1594be7072c1291976a" title="Filename of POST data if type=file.">filename</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="code" href="a00046.html#af5b8278e94ad1e7d723169e33fa639b9">   67</a></span>&#160;         std::basic_string&lt;charT&gt; <a class="code" href="a00046.html#af5b8278e94ad1e7d723169e33fa639b9" title="Content Type if type=file.">contentType</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="code" href="a00046.html#ae7ea9be77de54999ea42605fa8c84645">   70</a></span>&#160;         <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="a00046.html#ae7ea9be77de54999ea42605fa8c84645" title="Pointer to file data.">data</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00046.html#a9182970d69764a4d79adb32cd3715935" title="Pointer to file data.">m_data</a>; }</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="code" href="a00046.html#a053e499db7fb916cc10623d12fdfda6d">   72</a></span>&#160;         <span class="keywordtype">size_t</span> <a class="code" href="a00046.html#a053e499db7fb916cc10623d12fdfda6d" title="Size of file data.">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00046.html#ae3020ec03aecf63a361bceccbde0ecef" title="Size of data in bytes pointed to by data.">m_size</a>; }</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="code" href="a00046.html#afed487b94b8303bbe282a50a03529660">   74</a></span>&#160;         <span class="keywordtype">char</span>* <a class="code" href="a00046.html#afed487b94b8303bbe282a50a03529660" title="Expropriates the file data. Beyond this you must free it when done.">steal</a>()<span class="keyword"> const </span>{ <span class="keywordtype">char</span>* ptr=<a class="code" href="a00046.html#a9182970d69764a4d79adb32cd3715935" title="Pointer to file data.">m_data</a>; <a class="code" href="a00046.html#a9182970d69764a4d79adb32cd3715935" title="Pointer to file data.">m_data</a>=0; <a class="code" href="a00046.html#ae3020ec03aecf63a361bceccbde0ecef" title="Size of data in bytes pointed to by data.">m_size</a>=0; <span class="keywordflow">return</span> ptr; }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="code" href="a00046.html#a127953497429d66c63665522487b9c00">   76</a></span>&#160;         <a class="code" href="a00046.html#a127953497429d66c63665522487b9c00">Post</a>(): <a class="code" href="a00046.html#a5b6a59ca9f64e1594be7072c1291976a" title="Filename of POST data if type=file.">filename</a>(<a class="code" href="a00046.html#a7b7dedc8dc2ee9024d9117b31e265b22" title="Value of POST data if type=form.">value</a>), <a class="code" href="a00046.html#a9182970d69764a4d79adb32cd3715935" title="Pointer to file data.">m_data</a>(0), <a class="code" href="a00046.html#ae3020ec03aecf63a361bceccbde0ecef" title="Size of data in bytes pointed to by data.">m_size</a>(0) {}</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="code" href="a00046.html#aee3ec70774d91e9de3648ce43fa3d907">   77</a></span>&#160;         <a class="code" href="a00046.html#a127953497429d66c63665522487b9c00">Post</a>(<span class="keyword">const</span> <a class="code" href="a00046.html" title="Holds a piece of HTTP post data.">Post</a>&amp; x):</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <a class="code" href="a00046.html#aa081e03d3866f241019f2f4542ad3108">type</a>(x.<a class="code" href="a00046.html#aa081e03d3866f241019f2f4542ad3108">type</a>),</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <a class="code" href="a00046.html#a7b7dedc8dc2ee9024d9117b31e265b22" title="Value of POST data if type=form.">value</a>(x.<a class="code" href="a00046.html#a7b7dedc8dc2ee9024d9117b31e265b22" title="Value of POST data if type=form.">value</a>),</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <a class="code" href="a00046.html#a5b6a59ca9f64e1594be7072c1291976a" title="Filename of POST data if type=file.">filename</a>(<a class="code" href="a00046.html#a7b7dedc8dc2ee9024d9117b31e265b22" title="Value of POST data if type=form.">value</a>),</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <a class="code" href="a00046.html#af5b8278e94ad1e7d723169e33fa639b9" title="Content Type if type=file.">contentType</a>(x.<a class="code" href="a00046.html#af5b8278e94ad1e7d723169e33fa639b9" title="Content Type if type=file.">contentType</a>),</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <a class="code" href="a00046.html#a9182970d69764a4d79adb32cd3715935" title="Pointer to file data.">m_data</a>(x.<a class="code" href="a00046.html#afed487b94b8303bbe282a50a03529660" title="Expropriates the file data. Beyond this you must free it when done.">steal</a>()),</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <a class="code" href="a00046.html#ae3020ec03aecf63a361bceccbde0ecef" title="Size of data in bytes pointed to by data.">m_size</a>(x.<a class="code" href="a00046.html#ae3020ec03aecf63a361bceccbde0ecef" title="Size of data in bytes pointed to by data.">m_size</a>)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;         {}</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="code" href="a00046.html#a87bc7e6f1cccb661c1f8325e4dc7c60b">   85</a></span>&#160;         <a class="code" href="a00046.html#a87bc7e6f1cccb661c1f8325e4dc7c60b">~Post</a>() { <span class="keyword">delete</span> [] <a class="code" href="a00046.html#a9182970d69764a4d79adb32cd3715935" title="Pointer to file data.">m_data</a>; }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <span class="keyword">private</span>:</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="code" href="a00046.html#a9182970d69764a4d79adb32cd3715935">   88</a></span>&#160;         <span class="keyword">mutable</span> <span class="keywordtype">char</span>* <a class="code" href="a00046.html#a9182970d69764a4d79adb32cd3715935" title="Pointer to file data.">m_data</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="code" href="a00046.html#ae3020ec03aecf63a361bceccbde0ecef">   90</a></span>&#160;         <span class="keyword">mutable</span> <span class="keywordtype">size_t</span> <a class="code" href="a00046.html#ae3020ec03aecf63a361bceccbde0ecef" title="Size of data in bytes pointed to by data.">m_size</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="code" href="a00046.html#ad07f4de926e4e68b49b17ab4d13369d3">   91</a></span>&#160;         <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00022.html" title="Data structure of HTTP environment data.">Environment</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      };</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50c">   95</a></span>&#160;      <span class="keyword">enum</span> <a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50c" title="The HTTP request method as an enumeration.">RequestMethod</a></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      {</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50ca0927a6f0a48925cfcc4e7ad281010eb2">   97</a></span>&#160;         <a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50ca0927a6f0a48925cfcc4e7ad281010eb2">HTTP_METHOD_ERROR</a>,</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50ca128343ec22e09d10a7ec757548b92672">   98</a></span>&#160;         <a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50ca128343ec22e09d10a7ec757548b92672">HTTP_METHOD_HEAD</a>,</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50ca2e00ba7a2157a30665058b0bd95b2f8a">   99</a></span>&#160;         <a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50ca2e00ba7a2157a30665058b0bd95b2f8a">HTTP_METHOD_GET</a>,</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50cac04468d289ae25e0aebbc5ad6feda840">  100</a></span>&#160;         <a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50cac04468d289ae25e0aebbc5ad6feda840">HTTP_METHOD_POST</a>,</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50ca28a49574f251e9e98f5e39cd5c516967">  101</a></span>&#160;         <a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50ca28a49574f251e9e98f5e39cd5c516967">HTTP_METHOD_PUT</a>,</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50ca877a9e92558da7435fcf5de9d4f4dfd9">  102</a></span>&#160;         <a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50ca877a9e92558da7435fcf5de9d4f4dfd9">HTTP_METHOD_DELETE</a>,</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50caaf73ad236f2d5f52a76bb9e18e6b2f20">  103</a></span>&#160;         <a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50caaf73ad236f2d5f52a76bb9e18e6b2f20">HTTP_METHOD_TRACE</a>,</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50cabe3d511184e81fe2da9c9beabac647db">  104</a></span>&#160;         <a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50cabe3d511184e81fe2da9c9beabac647db">HTTP_METHOD_OPTIONS</a>,</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50cae4f7bf0aab2795a46c953124dfb5d2ca">  105</a></span>&#160;         <a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50cae4f7bf0aab2795a46c953124dfb5d2ca">HTTP_METHOD_CONNECT</a></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      };</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="a00120.html#a62beedfad9f1921c47b1719ad2812a91">requestMethodLabels</a>[];</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="code" href="a00120.html#ab5902da96c65daf2d6d05079c8544208">  108</a></span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="keywordtype">char</span>T, <span class="keyword">class</span> Traits&gt; <span class="keyword">inline</span> std::basic_ostream&lt;charT, Traits&gt;&amp; operator&lt;&lt;(std::basic_ostream&lt;charT, Traits&gt;&amp; os, <span class="keyword">const</span> <a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50c" title="The HTTP request method as an enumeration.">RequestMethod</a> requestMethod) { <span class="keywordflow">return</span> os &lt;&lt; <a class="code" href="a00120.html#a62beedfad9f1921c47b1719ad2812a91">requestMethodLabels</a>[requestMethod]; }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="code" href="a00007.html">  119</a></span>&#160;      <span class="keyword">class </span><a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <span class="keyword">public</span>:</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="code" href="a00007.html#a920cc2c8b61f2f05a1e85a553267d8bc">  123</a></span>&#160;         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="a00007.html#a920cc2c8b61f2f05a1e85a553267d8bc" title="This is the data length of the IPv6 address.">size</a>=16;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="code" href="a00007.html#a73cb2db063db86468a9c66507995a0a0">  129</a></span>&#160;         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code" href="a00007.html#a73cb2db063db86468a9c66507995a0a0" title="Retrieve a const pointer to the raw data of the IPv6 address.">data</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>; }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="code" href="a00007.html#a3ba532dc17cf06cd7b4b67a6ff09bbbe">  135</a></span>&#160;         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code" href="a00007.html#a3ba532dc17cf06cd7b4b67a6ff09bbbe" title="Retrieve a pointer to the raw data of the IPv6 address.">data</a>() { <span class="keywordflow">return</span> <a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>; }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="code" href="a00007.html#a4b15e42b62a7f9e38545b2cde483ef77">  141</a></span>&#160;         <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a> <a class="code" href="a00007.html#a4b15e42b62a7f9e38545b2cde483ef77" title="Assign the IPv4 address from a data array.">operator=</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* data_) { std::memcpy(<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, data_, <a class="code" href="a00007.html#a920cc2c8b61f2f05a1e85a553267d8bc" title="This is the data length of the IPv6 address.">size</a>); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="code" href="a00007.html#aabb737afb8da5212e69eb61ec900f86f">  143</a></span>&#160;         <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a> <a class="code" href="a00007.html#aabb737afb8da5212e69eb61ec900f86f">operator=</a>(<span class="keyword">const</span> <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a>&amp; address) { std::memcpy(<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, address.<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, <a class="code" href="a00007.html#a920cc2c8b61f2f05a1e85a553267d8bc" title="This is the data length of the IPv6 address.">size</a>); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="code" href="a00007.html#a575f39e209bd2078a8bc11dcb565fb95">  144</a></span>&#160;         <a class="code" href="a00007.html#a575f39e209bd2078a8bc11dcb565fb95">Address</a>(<span class="keyword">const</span> <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a>&amp; address) { std::memcpy(<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, address.<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, <a class="code" href="a00007.html#a920cc2c8b61f2f05a1e85a553267d8bc" title="This is the data length of the IPv6 address.">size</a>); }</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="code" href="a00007.html#aaf704b309fcf7ecca9af297bff8c1f84">  145</a></span>&#160;         <a class="code" href="a00007.html#aaf704b309fcf7ecca9af297bff8c1f84">Address</a>() {}</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="code" href="a00007.html#a0c46cc6fec159a98b4f2fbb311fea7c6">  151</a></span>&#160;         <span class="keyword">explicit</span> <a class="code" href="a00007.html#a0c46cc6fec159a98b4f2fbb311fea7c6" title="Construct the IPv6 address from a data array.">Address</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* data_) { std::memcpy(<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, data_, <a class="code" href="a00007.html#a920cc2c8b61f2f05a1e85a553267d8bc" title="This is the data length of the IPv6 address.">size</a>); }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;         <span class="keywordtype">void</span> <a class="code" href="a00007.html#a3a58f93d2c3443fe478bdd3173b1c33b" title="Assign the IP address from a string of characters.">assign</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* start, <span class="keyword">const</span> <span class="keywordtype">char</span>* end);</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="code" href="a00007.html#aae60bbdc1950385bf33354eb4a120776">  162</a></span>&#160;         <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00007.html#aae60bbdc1950385bf33354eb4a120776">operator==</a>(<span class="keyword">const</span> <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a>&amp; x)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> std::memcmp(<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, x.<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, <a class="code" href="a00007.html#a920cc2c8b61f2f05a1e85a553267d8bc" title="This is the data length of the IPv6 address.">size</a>)==0; }</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="code" href="a00007.html#ae5a1dbd6f8d16f0fa804e9817aafba83">  163</a></span>&#160;         <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00007.html#ae5a1dbd6f8d16f0fa804e9817aafba83">operator&gt;</a>(<span class="keyword">const</span> <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a>&amp; x)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> std::memcmp(<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, x.<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, <a class="code" href="a00007.html#a920cc2c8b61f2f05a1e85a553267d8bc" title="This is the data length of the IPv6 address.">size</a>)&gt;0; }</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="code" href="a00007.html#a4798e59aec5f163a2135bcf289d5a369">  164</a></span>&#160;         <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00007.html#a4798e59aec5f163a2135bcf289d5a369">operator&lt;</a>(<span class="keyword">const</span> <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a>&amp; x)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> std::memcmp(<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, x.<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, <a class="code" href="a00007.html#a920cc2c8b61f2f05a1e85a553267d8bc" title="This is the data length of the IPv6 address.">size</a>)&lt;0; }</div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="code" href="a00007.html#a7bb425adf0f5f25a2f8d8e6fbfab674f">  165</a></span>&#160;         <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00007.html#a7bb425adf0f5f25a2f8d8e6fbfab674f">operator&lt;=</a>(<span class="keyword">const</span> <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a>&amp; x)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !(std::memcmp(<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, x.<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, <a class="code" href="a00007.html#a920cc2c8b61f2f05a1e85a553267d8bc" title="This is the data length of the IPv6 address.">size</a>)&gt;0); }</div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="code" href="a00007.html#a1141e2350ac8130250a18ed240b6fc2a">  166</a></span>&#160;         <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00007.html#a1141e2350ac8130250a18ed240b6fc2a">operator&gt;=</a>(<span class="keyword">const</span> <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a>&amp; x)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !(std::memcmp(<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, x.<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, <a class="code" href="a00007.html#a920cc2c8b61f2f05a1e85a553267d8bc" title="This is the data length of the IPv6 address.">size</a>)&lt;0); }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;         <span class="keyword">operator</span> bool() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;         <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a> <a class="code" href="a00007.html#aebe5daf10cb422e9c0055dbce572d1ca">operator&amp;</a>(<span class="keyword">const</span> <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a>&amp; x) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;         <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a>&amp; <a class="code" href="a00007.html#aba42f25264faf4fe665ba140e424d48c">operator&amp;=</a>(<span class="keyword">const</span> <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a>&amp; x);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="code" href="a00007.html#a59d9047ff9c2755447479b7553c46c3d">  174</a></span>&#160;         <span class="keywordtype">void</span> <a class="code" href="a00007.html#a59d9047ff9c2755447479b7553c46c3d" title="Set all bits to zero in ip address.">zero</a>() { std::memset(<a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>, 0, <a class="code" href="a00007.html#a920cc2c8b61f2f05a1e85a553267d8bc" title="This is the data length of the IPv6 address.">size</a>); }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keyword">private</span>:</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba">  178</a></span>&#160;         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="a00007.html#a11861d7996b19786186561d8ee0d91ba" title="Data representation of the IPv6 address.">m_data</a>[<a class="code" href="a00007.html#a920cc2c8b61f2f05a1e85a553267d8bc" title="This is the data length of the IPv6 address.">size</a>];</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      };</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="keywordtype">char</span>T, <span class="keyword">class</span> Traits&gt; std::basic_ostream&lt;charT, Traits&gt;&amp; operator&lt;&lt;(std::basic_ostream&lt;charT, Traits&gt;&amp; os, <span class="keyword">const</span> <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a>&amp; address);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="keywordtype">char</span>T, <span class="keyword">class</span> Traits&gt; std::basic_istream&lt;charT, Traits&gt;&amp; <a class="code" href="a00120.html#a47b9ad71f734e4eef5b6925dadcc7110" title="Address stream extractor operation.">operator&gt;&gt;</a>(std::basic_istream&lt;charT, Traits&gt;&amp; is, <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a>&amp; address);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="code" href="a00022.html">  202</a></span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="keywordtype">char</span>T&gt; <span class="keyword">struct </span><a class="code" href="a00022.html" title="Data structure of HTTP environment data.">Environment</a></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      {</div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="code" href="a00022.html#ac8e77dd0007df4cde621f533dd90838c">  205</a></span>&#160;         std::basic_string&lt;charT&gt; <a class="code" href="a00022.html#ac8e77dd0007df4cde621f533dd90838c" title="Hostname of the server.">host</a>;</div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="code" href="a00022.html#a0f5ec56cb6d2717b841b9843efc54746">  207</a></span>&#160;         std::basic_string&lt;charT&gt; <a class="code" href="a00022.html#a0f5ec56cb6d2717b841b9843efc54746" title="User agent string.">userAgent</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="code" href="a00022.html#a1403f6bc7659bf8a8ed1677582fd2f91">  209</a></span>&#160;         std::basic_string&lt;charT&gt; <a class="code" href="a00022.html#a1403f6bc7659bf8a8ed1677582fd2f91" title="Content types the client accepts.">acceptContentTypes</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="code" href="a00022.html#ac2e767109dede0872b39aabdae76e336">  211</a></span>&#160;         std::basic_string&lt;charT&gt; <a class="code" href="a00022.html#ac2e767109dede0872b39aabdae76e336" title="Languages the client accepts.">acceptLanguages</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="code" href="a00022.html#ae530a69540568b481c30cf89e2e78eb2">  213</a></span>&#160;         std::basic_string&lt;charT&gt; <a class="code" href="a00022.html#ae530a69540568b481c30cf89e2e78eb2" title="Character sets the clients accepts.">acceptCharsets</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="code" href="a00022.html#a71bc1b84f3bdf15ee862117f0642fa98">  215</a></span>&#160;         std::basic_string&lt;charT&gt; <a class="code" href="a00022.html#a71bc1b84f3bdf15ee862117f0642fa98" title="Referral URL.">referer</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="code" href="a00022.html#aa9cb38c7de9c54b104d1ac708a7c3c97">  217</a></span>&#160;         std::basic_string&lt;charT&gt; <a class="code" href="a00022.html#aa9cb38c7de9c54b104d1ac708a7c3c97" title="Content type of data sent from client.">contentType</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="code" href="a00022.html#add611565c02db4efe35ab9137d88b7d1">  219</a></span>&#160;         std::basic_string&lt;charT&gt; <a class="code" href="a00022.html#add611565c02db4efe35ab9137d88b7d1" title="HTTP root directory.">root</a>;</div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="code" href="a00022.html#a35388737118b6501f0d7f7bad3f1c3cf">  221</a></span>&#160;         std::basic_string&lt;charT&gt; <a class="code" href="a00022.html#a35388737118b6501f0d7f7bad3f1c3cf" title="Filename of script relative to the HTTP root directory.">scriptName</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="code" href="a00022.html#aa9b9551260fc1955b25bf0e41931e836">  223</a></span>&#160;         <a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50c" title="The HTTP request method as an enumeration.">RequestMethod</a> <a class="code" href="a00022.html#aa9b9551260fc1955b25bf0e41931e836" title="REQUEST_METHOD.">requestMethod</a>;</div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="code" href="a00022.html#a4ed074d3c122f16204d3a1a270b8d3e2">  225</a></span>&#160;         std::basic_string&lt;charT&gt; <a class="code" href="a00022.html#a4ed074d3c122f16204d3a1a270b8d3e2" title="REQUEST_URI.">requestUri</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="code" href="a00022.html#a9e7300e7b2003b0b1e5d160bd5228e2c">  227</a></span>&#160;         <span class="keyword">typedef</span> std::vector&lt;std::basic_string&lt;charT&gt; &gt; <a class="code" href="a00022.html#a9e7300e7b2003b0b1e5d160bd5228e2c" title="Path Information.">PathInfo</a>;</div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="code" href="a00022.html#a5d03cfd8987c6e8dbfcc89138f19be79">  228</a></span>&#160;         <a class="code" href="a00022.html#a9e7300e7b2003b0b1e5d160bd5228e2c" title="Path Information.">PathInfo</a> <a class="code" href="a00022.html#a5d03cfd8987c6e8dbfcc89138f19be79">pathInfo</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="code" href="a00022.html#ab93ed073b9beeadcd0585f177bd8ea31">  230</a></span>&#160;         <span class="keywordtype">int</span> <a class="code" href="a00022.html#ab93ed073b9beeadcd0585f177bd8ea31" title="The etag the client assumes this document should have.">etag</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="code" href="a00022.html#a1169b983e1c3997209cd31a29400d611">  232</a></span>&#160;         <span class="keywordtype">int</span> <a class="code" href="a00022.html#a1169b983e1c3997209cd31a29400d611" title="How many seconds the connection should be kept alive.">keepAlive</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="code" href="a00022.html#a07860d2a3088006c3ca4754ef032253b">  234</a></span>&#160;         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="a00022.html#a07860d2a3088006c3ca4754ef032253b" title="Length of content to be received from the client (post data)">contentLength</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="code" href="a00022.html#af6e37cb2a34814e54bd1e65c93682ed6">  236</a></span>&#160;         <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a> <a class="code" href="a00022.html#af6e37cb2a34814e54bd1e65c93682ed6" title="IP address of the server.">serverAddress</a>;</div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="code" href="a00022.html#a0beca2413ecf61281138f911f242cb94">  238</a></span>&#160;         <a class="code" href="a00007.html" title="Efficiently stores IPv6 addresses.">Address</a> <a class="code" href="a00022.html#a0beca2413ecf61281138f911f242cb94" title="IP address of the client.">remoteAddress</a>;</div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="code" href="a00022.html#a1dd203203ee4433da53ae49dfe1cf74d">  240</a></span>&#160;         uint16_t <a class="code" href="a00022.html#a1dd203203ee4433da53ae49dfe1cf74d" title="TCP port used by the server.">serverPort</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="code" href="a00022.html#a5abd07db1420ac641ab2623ea571c753">  242</a></span>&#160;         uint16_t <a class="code" href="a00022.html#a5abd07db1420ac641ab2623ea571c753" title="TCP port used by the client.">remotePort</a>;</div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="code" href="a00022.html#ace508d49576e27e50dd3342bcdb2b724">  244</a></span>&#160;         boost::posix_time::ptime <a class="code" href="a00022.html#ace508d49576e27e50dd3342bcdb2b724" title="Timestamp the client has for this document.">ifModifiedSince</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="code" href="a00022.html#a766257e44ca0afe64a96fef2e0906682">  246</a></span>&#160;         <span class="keyword">typedef</span> std::map&lt;std::basic_string&lt;charT&gt;, std::basic_string&lt;charT&gt; &gt; <a class="code" href="a00022.html#a766257e44ca0afe64a96fef2e0906682">Cookies</a>;</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="code" href="a00022.html#ac863b0c8158ca9cf27e0952ea6977ad5">  248</a></span>&#160;         <a class="code" href="a00022.html#a766257e44ca0afe64a96fef2e0906682">Cookies</a> <a class="code" href="a00022.html#ac863b0c8158ca9cf27e0952ea6977ad5" title="Container with all url-encoded cookie data.">cookies</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;         <span class="keyword">const</span> std::basic_string&lt;charT&gt;&amp; <a class="code" href="a00022.html#a65a77a52096767b80434c70050526d44" title="Quick and easy way to find a cookie value.">findCookie</a>(<span class="keyword">const</span> charT* key) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="code" href="a00022.html#a027a7ddb5b17facff066da949a15080e">  252</a></span>&#160;         <span class="keyword">typedef</span> std::map&lt;std::basic_string&lt;charT&gt;, std::basic_string&lt;charT&gt; &gt; <a class="code" href="a00022.html#a027a7ddb5b17facff066da949a15080e">Gets</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="code" href="a00022.html#a209132cc52e659f68f250201b61ab68b">  254</a></span>&#160;         <a class="code" href="a00022.html#a027a7ddb5b17facff066da949a15080e">Gets</a> <a class="code" href="a00022.html#a209132cc52e659f68f250201b61ab68b" title="Container with all url-encoded GET data.">gets</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;         <span class="keyword">const</span> std::basic_string&lt;charT&gt;&amp; <a class="code" href="a00022.html#aa93602011785446c57eb2dc7421455da" title="Quick and easy way to find a GET value.">findGet</a>(<span class="keyword">const</span> charT* key) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;         <span class="keywordtype">bool</span> <a class="code" href="a00022.html#a4877fd1f9a699b67640049fdc36d72c3" title="Quick and easy way to check if a GET value exists.">checkForGet</a>(<span class="keyword">const</span> charT* key) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="code" href="a00022.html#a09b02fdcab600764176093631dc32c0b">  271</a></span>&#160;         <span class="keyword">typedef</span> std::map&lt;std::basic_string&lt;charT&gt;, <a class="code" href="a00046.html" title="Holds a piece of HTTP post data.">Post&lt;charT&gt;</a> &gt; <a class="code" href="a00022.html#a09b02fdcab600764176093631dc32c0b">Posts</a>;</div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="code" href="a00022.html#a3638c07ce8aa45905defcbd15f18e29f">  273</a></span>&#160;         <a class="code" href="a00022.html#a09b02fdcab600764176093631dc32c0b">Posts</a> <a class="code" href="a00022.html#a3638c07ce8aa45905defcbd15f18e29f" title="STL container associating Post objects with their name.">posts</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;         <span class="keyword">const</span> <a class="code" href="a00046.html" title="Holds a piece of HTTP post data.">Post&lt;charT&gt;</a>&amp; <a class="code" href="a00022.html#a3b79b3401b75b86147f96d0d4bcb26d8" title="Quick and easy way to find a POST value.">findPost</a>(<span class="keyword">const</span> charT* key) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;         <span class="keywordtype">bool</span> <a class="code" href="a00022.html#aeb52382573052850b5b943e4c9a63795" title="Quick and easy way to check if a POST value exists.">checkForPost</a>(<span class="keyword">const</span> charT* key) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;         <span class="keywordtype">void</span> <a class="code" href="a00022.html#a332971f6e3edaa09b6313d60b84d97f9" title="Parses FastCGI parameter data into the data structure.">fill</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* data, <span class="keywordtype">size_t</span> size);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;         <span class="keywordtype">bool</span> <a class="code" href="a00022.html#aa5d94219129948748a07c49e9e3097c6" title="Consolidates POST data into a single buffer.">fillPostBuffer</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* data, <span class="keywordtype">size_t</span> size);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;         <span class="keywordtype">void</span> <a class="code" href="a00022.html#a270183777c12172394506e759f2d52b8" title="Parses &quot;multipart/form-data&quot; http post data into the posts object.">parsePostsMultipart</a>();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;         <span class="keywordtype">void</span> <a class="code" href="a00022.html#a9259cec3fa08ce79de7df20d88569a25" title="Parses &quot;application/x-www-form-urlencoded&quot; post data into the posts object.">parsePostsUrlEncoded</a>();</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="code" href="a00022.html#a6ca2f5b0e4aae9d5b7e25efd224c5428">  319</a></span>&#160;         <span class="keywordtype">void</span> <a class="code" href="a00022.html#a6ca2f5b0e4aae9d5b7e25efd224c5428" title="Clear the post buffer.">clearPostBuffer</a>() { <a class="code" href="a00022.html#a36456396cf90f1e04a79235a4a8706e9" title="Buffer for processing post data.">postBuffer</a>.reset(); <a class="code" href="a00022.html#ab71717c40d6a85a6b7c4ee1f19986284" title="Pointer in buffer.">pPostBuffer</a>=0; }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno"><a class="code" href="a00022.html#a39a94ce49d5d994dc53e5a806e778738">  321</a></span>&#160;         <a class="code" href="a00022.html#a39a94ce49d5d994dc53e5a806e778738">Environment</a>(): <a class="code" href="a00022.html#aa9b9551260fc1955b25bf0e41931e836" title="REQUEST_METHOD.">requestMethod</a>(<a class="code" href="a00120.html#aa3ab66b5e611c1192bb544662abfd50ca0927a6f0a48925cfcc4e7ad281010eb2">HTTP_METHOD_ERROR</a>), <a class="code" href="a00022.html#ab93ed073b9beeadcd0585f177bd8ea31" title="The etag the client assumes this document should have.">etag</a>(0), <a class="code" href="a00022.html#a1169b983e1c3997209cd31a29400d611" title="How many seconds the connection should be kept alive.">keepAlive</a>(0), <a class="code" href="a00022.html#a07860d2a3088006c3ca4754ef032253b" title="Length of content to be received from the client (post data)">contentLength</a>(0), <a class="code" href="a00022.html#a1dd203203ee4433da53ae49dfe1cf74d" title="TCP port used by the server.">serverPort</a>(0), <a class="code" href="a00022.html#a5abd07db1420ac641ab2623ea571c753" title="TCP port used by the client.">remotePort</a>(0) {}</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="keyword">private</span>:</div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="code" href="a00022.html#a7cdc4b98b8c6d5a3c9ea770d76c8d06b">  324</a></span>&#160;         boost::scoped_array&lt;char&gt; <a class="code" href="a00022.html#a7cdc4b98b8c6d5a3c9ea770d76c8d06b" title="Raw string of characters representing the post boundary.">boundary</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno"><a class="code" href="a00022.html#a7990c9b77c8c96acffcaf6678929f65c">  326</a></span>&#160;         <span class="keywordtype">size_t</span> <a class="code" href="a00022.html#a7990c9b77c8c96acffcaf6678929f65c" title="Size of boundary.">boundarySize</a>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno"><a class="code" href="a00022.html#a36456396cf90f1e04a79235a4a8706e9">  329</a></span>&#160;         boost::scoped_array&lt;char&gt; <a class="code" href="a00022.html#a36456396cf90f1e04a79235a4a8706e9" title="Buffer for processing post data.">postBuffer</a>;</div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="code" href="a00022.html#ab71717c40d6a85a6b7c4ee1f19986284">  331</a></span>&#160;         <span class="keywordtype">char</span>* <a class="code" href="a00022.html#ab71717c40d6a85a6b7c4ee1f19986284" title="Pointer in buffer.">pPostBuffer</a>;</div>
<div class="line"><a name="l00333"></a><span class="lineno"><a class="code" href="a00022.html#a738f7dfce9d0e475073ee32d0f9fcaef">  333</a></span>&#160;         <span class="keywordtype">size_t</span> <a class="code" href="a00022.html#a738f7dfce9d0e475073ee32d0f9fcaef" title="Returns minimum buffer size remaining.">minPostBufferSize</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> size) { <span class="keywordflow">return</span> std::min(size, <span class="keywordtype">size_t</span>(<a class="code" href="a00022.html#a36456396cf90f1e04a79235a4a8706e9" title="Buffer for processing post data.">postBuffer</a>.get()+<a class="code" href="a00022.html#a07860d2a3088006c3ca4754ef032253b" title="Length of content to be received from the client (post data)">contentLength</a>-<a class="code" href="a00022.html#ab71717c40d6a85a6b7c4ee1f19986284" title="Pointer in buffer.">pPostBuffer</a>)); }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      };</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordtype">void</span> <a class="code" href="a00120.html#aec5f60fc1b14a25f8111231b9e47e3a2" title="Convert a char string to a std::wstring.">charToString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* data, <span class="keywordtype">size_t</span> size, std::wstring&amp; <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="code" href="a00120.html#a176b2dafb7496970f98737fd6570dd76">  352</a></span>&#160;      <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00120.html#aec5f60fc1b14a25f8111231b9e47e3a2" title="Convert a char string to a std::wstring.">charToString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* data, <span class="keywordtype">size_t</span> size, std::string&amp; <span class="keywordtype">string</span>) { <span class="keywordtype">string</span>.assign(data, size); }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="a00120.html#aa64cb0e8d7014c2180f9b4d82a006c99" title="Convert a char string to an integer.">atoi</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* start, <span class="keyword">const</span> <span class="keywordtype">char</span>* end);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="keywordtype">char</span>T&gt; <span class="keywordtype">void</span> <a class="code" href="a00120.html#ab77cd23889bd2bddc4421380e0a8dcb8" title="Decodes a url-encoded string into a container.">decodeUrlEncoded</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* data, <span class="keywordtype">size_t</span> size, std::map&lt;std::basic_string&lt;charT&gt;, std::basic_string&lt;charT&gt; &gt;&amp; output, <span class="keyword">const</span> <span class="keywordtype">char</span> fieldSeperator=<span class="charliteral">&#39;&amp;&#39;</span>);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="keywordtype">size_t</span> <a class="code" href="a00120.html#ad45444ccbdc9e8a73a63afa82d16a305" title="Convert a string with percent escaped byte values to their actual values.">percentEscapedToRealBytes</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* source, <span class="keywordtype">char</span>* destination, <span class="keywordtype">size_t</span> size);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="a00120.html#a14624ccef7404b1f0bcdc229c91f7f97" title="List of characters in order for Base64 encoding.">base64Characters</a>[];</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">class</span> In, <span class="keyword">class</span> Out&gt; <span class="keywordtype">void</span> <a class="code" href="a00120.html#add4cdd1ddec8de987d5279eb9ce3f5e0" title="Convert a binary container of data to a Base64 encoded container.">base64Encode</a>(In start, In end, Out destination);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">class</span> In, <span class="keyword">class</span> Out&gt; Out <a class="code" href="a00120.html#a99c00250d9993da35a28f987679433b0" title="Convert a Base64 encoded container to a binary container.">base64Decode</a>(In start, In end, Out destination);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="code" href="a00062.html">  430</a></span>&#160;      <span class="keyword">class </span><a class="code" href="a00062.html" title="Defines ID values for HTTP sessions.">SessionId</a></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      {</div>
<div class="line"><a name="l00435"></a><span class="lineno"><a class="code" href="a00062.html#a3903adec1bc681d912772b14dea11da2">  435</a></span>&#160;         <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="a00062.html#a3903adec1bc681d912772b14dea11da2" title="Size in bytes of the ID data.">size</a>=12;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      <span class="keyword">private</span>:</div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="code" href="a00062.html#abb52949d9abedfaa205fa6378820ff91">  441</a></span>&#160;         <span class="keywordtype">char</span> <a class="code" href="a00062.html#abb52949d9abedfaa205fa6378820ff91" title="ID data.">data</a>[<a class="code" href="a00062.html#a3903adec1bc681d912772b14dea11da2" title="Size in bytes of the ID data.">size</a>];</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno"><a class="code" href="a00062.html#ad13c42e2845dca894b2ab340d008b7ad">  446</a></span>&#160;         boost::posix_time::ptime <a class="code" href="a00062.html#ad13c42e2845dca894b2ab340d008b7ad" title="Contains the time this session was last used.">timestamp</a>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno"><a class="code" href="a00062.html#a757ce90f9cc2861d851f761df493fed5">  451</a></span>&#160;         <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="a00062.html#a757ce90f9cc2861d851f761df493fed5" title="Set to true once the random number generator has been seeded.">seeded</a>;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno"><a class="code" href="a00062.html#ab04e608898f34689617a54f5c55b6af2">  453</a></span>&#160;         <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="a00063.html" title="Container for HTTP sessions.">Sessions</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keyword">public</span>:</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;         <a class="code" href="a00062.html#a40475aa529077627af7004797b8ea53a" title="The default constructor initializes the ID data to a random value.">SessionId</a>();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00460"></a><span class="lineno"><a class="code" href="a00062.html#a683905ea8cebbec106b5bf58051b9f9f">  460</a></span>&#160;         <a class="code" href="a00062.html#a683905ea8cebbec106b5bf58051b9f9f">SessionId</a>(<span class="keyword">const</span> <a class="code" href="a00062.html" title="Defines ID values for HTTP sessions.">SessionId</a>&amp; x): <a class="code" href="a00062.html#ad13c42e2845dca894b2ab340d008b7ad" title="Contains the time this session was last used.">timestamp</a>(x.<a class="code" href="a00062.html#ad13c42e2845dca894b2ab340d008b7ad" title="Contains the time this session was last used.">timestamp</a>) { std::memcpy(<a class="code" href="a00062.html#abb52949d9abedfaa205fa6378820ff91" title="ID data.">data</a>, x.<a class="code" href="a00062.html#abb52949d9abedfaa205fa6378820ff91" title="ID data.">data</a>, <a class="code" href="a00062.html#a3903adec1bc681d912772b14dea11da2" title="Size in bytes of the ID data.">size</a>); }</div>
<div class="line"><a name="l00461"></a><span class="lineno"><a class="code" href="a00062.html#a2b98eb26411e9bb88c9fba30e2727561">  461</a></span>&#160;         <span class="keyword">const</span> <a class="code" href="a00062.html" title="Defines ID values for HTTP sessions.">SessionId</a>&amp; <a class="code" href="a00062.html#a2b98eb26411e9bb88c9fba30e2727561">operator=</a>(<span class="keyword">const</span> <a class="code" href="a00062.html" title="Defines ID values for HTTP sessions.">SessionId</a>&amp; x) { std::memcpy(<a class="code" href="a00062.html#abb52949d9abedfaa205fa6378820ff91" title="ID data.">data</a>, x.<a class="code" href="a00062.html#abb52949d9abedfaa205fa6378820ff91" title="ID data.">data</a>, <a class="code" href="a00062.html#a3903adec1bc681d912772b14dea11da2" title="Size in bytes of the ID data.">size</a>); <a class="code" href="a00062.html#ad13c42e2845dca894b2ab340d008b7ad" title="Contains the time this session was last used.">timestamp</a>=x.<a class="code" href="a00062.html#ad13c42e2845dca894b2ab340d008b7ad" title="Contains the time this session was last used.">timestamp</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;         <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="keywordtype">char</span>T&gt; <span class="keyword">const</span> <a class="code" href="a00062.html" title="Defines ID values for HTTP sessions.">SessionId</a>&amp; <a class="code" href="a00062.html#a2b98eb26411e9bb88c9fba30e2727561">operator=</a>(charT* data_);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00479"></a><span class="lineno"><a class="code" href="a00062.html#ab7f2b25c8b1de084ec3f222666f9ff44">  479</a></span>&#160;         <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="keywordtype">char</span>T&gt; <a class="code" href="a00062.html#ab7f2b25c8b1de084ec3f222666f9ff44" title="Initialize the ID data with a base64 encoded string.">SessionId</a>(charT* data_) { *<span class="keyword">this</span>=data_; }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;         <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="keywordtype">char</span>T, <span class="keyword">class</span> Traits&gt; <span class="keyword">friend</span> std::basic_ostream&lt;charT, Traits&gt;&amp; operator&lt;&lt;(std::basic_ostream&lt;charT, Traits&gt;&amp; os, <span class="keyword">const</span> <a class="code" href="a00062.html" title="Defines ID values for HTTP sessions.">SessionId</a>&amp; x);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno"><a class="code" href="a00062.html#a936fdc9a7c5d8e2130a8d070e377d0c0">  483</a></span>&#160;         <span class="keywordtype">bool</span> <a class="code" href="a00062.html#a936fdc9a7c5d8e2130a8d070e377d0c0">operator&lt;</a>(<span class="keyword">const</span> <a class="code" href="a00062.html" title="Defines ID values for HTTP sessions.">SessionId</a>&amp; x)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> std::memcmp(<a class="code" href="a00062.html#abb52949d9abedfaa205fa6378820ff91" title="ID data.">data</a>, x.<a class="code" href="a00062.html#abb52949d9abedfaa205fa6378820ff91" title="ID data.">data</a>, <a class="code" href="a00062.html#a3903adec1bc681d912772b14dea11da2" title="Size in bytes of the ID data.">SessionId::size</a>)&lt;0; }</div>
<div class="line"><a name="l00484"></a><span class="lineno"><a class="code" href="a00062.html#a05552106b482153d04597172d09fb08d">  484</a></span>&#160;         <span class="keywordtype">bool</span> <a class="code" href="a00062.html#a05552106b482153d04597172d09fb08d">operator==</a>(<span class="keyword">const</span> <a class="code" href="a00062.html" title="Defines ID values for HTTP sessions.">SessionId</a>&amp; x)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> std::memcmp(<a class="code" href="a00062.html#abb52949d9abedfaa205fa6378820ff91" title="ID data.">data</a>, x.<a class="code" href="a00062.html#abb52949d9abedfaa205fa6378820ff91" title="ID data.">data</a>, <a class="code" href="a00062.html#a3903adec1bc681d912772b14dea11da2" title="Size in bytes of the ID data.">SessionId::size</a>)==0; }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno"><a class="code" href="a00062.html#ae97803294898c3039eb42490e4176f03">  489</a></span>&#160;         <span class="keywordtype">void</span> <a class="code" href="a00062.html#ae97803294898c3039eb42490e4176f03" title="Resets the last access timestamp to the current time.">refresh</a>()<span class="keyword"> const </span>{ *<span class="keyword">const_cast&lt;</span>boost::posix_time::ptime*<span class="keyword">&gt;</span>(&amp;<a class="code" href="a00062.html#ad13c42e2845dca894b2ab340d008b7ad" title="Contains the time this session was last used.">timestamp</a>)=boost::posix_time::second_clock::universal_time(); }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno"><a class="code" href="a00062.html#a7b845fb982ebd3b6ffbc1a760383bd50">  491</a></span>&#160;         <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="a00062.html#a7b845fb982ebd3b6ffbc1a760383bd50">getInternalPointer</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="a00062.html#abb52949d9abedfaa205fa6378820ff91" title="ID data.">data</a>; }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      };</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="code" href="a00120.html#aad08163549775d4196427d8a0e413722">  497</a></span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="keywordtype">char</span>T, <span class="keyword">class</span> Traits&gt; std::basic_ostream&lt;charT, Traits&gt;&amp; operator&lt;&lt;(std::basic_ostream&lt;charT, Traits&gt;&amp; os, <span class="keyword">const</span> <a class="code" href="a00062.html" title="Defines ID values for HTTP sessions.">SessionId</a>&amp; x) { <a class="code" href="a00120.html#add4cdd1ddec8de987d5279eb9ce3f5e0" title="Convert a binary container of data to a Base64 encoded container.">base64Encode</a>(x.data, x.data+<a class="code" href="a00062.html#a3903adec1bc681d912772b14dea11da2" title="Size in bytes of the ID data.">SessionId::size</a>, std::ostream_iterator&lt;charT, charT, Traits&gt;(os)); <span class="keywordflow">return</span> os; }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="code" href="a00063.html">  509</a></span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span><a class="code" href="a00063.html" title="Container for HTTP sessions.">Sessions</a>: <span class="keyword">public</span> std::map&lt;SessionId, T&gt;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="keyword">private</span>:</div>
<div class="line"><a name="l00515"></a><span class="lineno"><a class="code" href="a00063.html#a219c1a0b5a6a621f27c2e991a2475454">  515</a></span>&#160;         <span class="keyword">const</span> boost::posix_time::seconds <a class="code" href="a00063.html#a219c1a0b5a6a621f27c2e991a2475454" title="Amount of seconds to keep sessions around for.">keepAlive</a>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00520"></a><span class="lineno"><a class="code" href="a00063.html#a32c7009042f289407cbc499559b99732">  520</a></span>&#160;         <span class="keyword">const</span> boost::posix_time::seconds <a class="code" href="a00063.html#a32c7009042f289407cbc499559b99732" title="How often (in seconds) the container should find old sessions and delete them.">cleanupFrequency</a>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno"><a class="code" href="a00063.html#a1514b8cde7022d94a6438f1b0c596383">  525</a></span>&#160;         boost::posix_time::ptime <a class="code" href="a00063.html#a1514b8cde7022d94a6438f1b0c596383" title="The time that the next session cleanup should be done.">cleanupTime</a>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keyword">public</span>:</div>
<div class="line"><a name="l00527"></a><span class="lineno"><a class="code" href="a00063.html#a849a173b292b1a3d9c3a6baf4ffc4daf">  527</a></span>&#160;         <span class="keyword">typedef</span> <span class="keyword">typename</span> std::map&lt;SessionId, T&gt;::iterator <a class="code" href="a00063.html#a849a173b292b1a3d9c3a6baf4ffc4daf">iterator</a>;</div>
<div class="line"><a name="l00528"></a><span class="lineno"><a class="code" href="a00063.html#a1cbcd695182d31a5352814393a295c61">  528</a></span>&#160;         <span class="keyword">typedef</span> <span class="keyword">typename</span> std::map&lt;SessionId, T&gt;::const_iterator <a class="code" href="a00063.html#a1cbcd695182d31a5352814393a295c61">const_iterator</a>;</div>
<div class="line"><a name="l00535"></a><span class="lineno"><a class="code" href="a00063.html#a96cff85553b8741b9ee6f749c416a563">  535</a></span>&#160;         <a class="code" href="a00063.html#a96cff85553b8741b9ee6f749c416a563" title="Constructor takes session keep alive times and cleanup frequency.">Sessions</a>(<span class="keywordtype">int</span> keepAlive_, <span class="keywordtype">int</span> cleanupFrequency_): <a class="code" href="a00063.html#a219c1a0b5a6a621f27c2e991a2475454" title="Amount of seconds to keep sessions around for.">keepAlive</a>(boost::posix_time::seconds(keepAlive_)), <a class="code" href="a00063.html#a32c7009042f289407cbc499559b99732" title="How often (in seconds) the container should find old sessions and delete them.">cleanupFrequency</a>(boost::posix_time::seconds(cleanupFrequency_)), <a class="code" href="a00063.html#a1514b8cde7022d94a6438f1b0c596383" title="The time that the next session cleanup should be done.">cleanupTime</a>(boost::posix_time::second_clock::universal_time()+<a class="code" href="a00063.html#a32c7009042f289407cbc499559b99732" title="How often (in seconds) the container should find old sessions and delete them.">cleanupFrequency</a>) { }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;         <span class="keywordtype">void</span> <a class="code" href="a00063.html#abf5eef3ab4c056ac62b923dfd9c7c3ad" title="Clean out old sessions.">cleanup</a>();</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;         <a class="code" href="a00063.html#a849a173b292b1a3d9c3a6baf4ffc4daf">iterator</a> <a class="code" href="a00063.html#afe9099eedbfc37a07fe4b9b0fdb018d2" title="Generates a new session pair with a random ID value.">generate</a>(<span class="keyword">const</span> T&amp; value_ = T());</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno"><a class="code" href="a00063.html#aafe6b06e4cff34e7f617c1d46b7b3b9e">  553</a></span>&#160;         boost::posix_time::ptime <a class="code" href="a00063.html#aafe6b06e4cff34e7f617c1d46b7b3b9e">getExpiry</a>(<a class="code" href="a00063.html#a1cbcd695182d31a5352814393a295c61">const_iterator</a> it)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> it-&gt;first.timestamp+<a class="code" href="a00063.html#a219c1a0b5a6a621f27c2e991a2475454" title="Amount of seconds to keep sessions around for.">keepAlive</a>; }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      };</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;   }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;}</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno"><a class="code" href="a00063.html#abf5eef3ab4c056ac62b923dfd9c7c3ad">  558</a></span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="a00063.html#abf5eef3ab4c056ac62b923dfd9c7c3ad" title="Clean out old sessions.">Fastcgipp::Http::Sessions&lt;T&gt;::cleanup</a>()</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;{</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;   <span class="keywordflow">if</span>(boost::posix_time::second_clock::universal_time() &lt; cleanupTime)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   boost::posix_time::ptime oldest(boost::posix_time::second_clock::universal_time()-keepAlive);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   <a class="code" href="a00063.html#a849a173b292b1a3d9c3a6baf4ffc4daf">iterator</a> it=this-&gt;begin();</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;   <span class="keywordflow">while</span>(it!=this-&gt;end())</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <span class="keywordflow">if</span>(it-&gt;first.timestamp &lt; oldest)</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;         erase(it++);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;         ++it;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;   }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;   cleanupTime=boost::posix_time::second_clock::universal_time()+cleanupFrequency;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno"><a class="code" href="a00120.html#a99c00250d9993da35a28f987679433b0">  574</a></span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> In, <span class="keyword">class</span> Out&gt; Out <a class="code" href="a00120.html#a99c00250d9993da35a28f987679433b0" title="Convert a Base64 encoded container to a binary container.">Fastcgipp::Http::base64Decode</a>(In start, In end, Out destination)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;{</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;   Out dest=destination;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> buffer, bitPos=-8, padStart; start!=end || bitPos&gt;-6; ++dest)</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;   {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">if</span>(bitPos==-8)</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;         bitPos=18;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;         padStart=-9;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;         buffer=0;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;         <span class="keywordflow">while</span>(bitPos!=-6)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;         {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="keywordflow">if</span>(start==end) <span class="keywordflow">return</span> destination;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="keywordtype">int</span> value=*start++;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            <span class="keywordflow">if</span>(value &gt;= <span class="charliteral">&#39;A&#39;</span> &amp;&amp; <span class="charliteral">&#39;Z&#39;</span> &gt;= value) value -= <span class="charliteral">&#39;A&#39;</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(value &gt;= <span class="charliteral">&#39;a&#39;</span> &amp;&amp; <span class="charliteral">&#39;z&#39;</span> &gt;= value) value -= <span class="charliteral">&#39;a&#39;</span> - 26;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(value &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; <span class="charliteral">&#39;9&#39;</span> &gt;= value) value -= <span class="charliteral">&#39;0&#39;</span> - 52;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(value == <span class="charliteral">&#39;+&#39;</span>) value = 62;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(value == <span class="charliteral">&#39;/&#39;</span>) value = 63;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(value == <span class="charliteral">&#39;=&#39;</span>) { padStart=bitPos; <span class="keywordflow">break</span>; }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">return</span> destination;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            buffer |= value &lt;&lt; bitPos;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            bitPos-=6;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;         }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;         bitPos=16;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      *dest = (buffer &gt;&gt; bitPos) &amp; 0xff;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      bitPos-=8;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="keywordflow">if</span>(padStart&gt;=bitPos)</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;         <span class="keywordflow">if</span>( (padStart-bitPos)/6 )</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            <span class="keywordflow">return</span> dest;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;         <span class="keywordflow">else</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="keywordflow">return</span> ++dest;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;   }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;   <span class="keywordflow">return</span> dest;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno"><a class="code" href="a00120.html#add4cdd1ddec8de987d5279eb9ce3f5e0">  617</a></span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> In, <span class="keyword">class</span> Out&gt; <span class="keywordtype">void</span> <a class="code" href="a00120.html#add4cdd1ddec8de987d5279eb9ce3f5e0" title="Convert a binary container of data to a Base64 encoded container.">Fastcgipp::Http::base64Encode</a>(In start, In end, Out destination)</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;{</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> buffer, bitPos=-6, padded; start!=end || bitPos&gt;-6; ++destination)</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   {</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="keywordflow">if</span>(bitPos==-6)</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;      {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;         bitPos=16;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;         buffer=0;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;         padded=-6;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;         <span class="keywordflow">while</span>(bitPos!=-8)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;         {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            <span class="keywordflow">if</span>(start!=end) </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;               buffer |= (uint32_t)*(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)start++ &lt;&lt; bitPos;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <span class="keywordflow">else</span> padded+=6;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            bitPos-=8;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;         }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;         bitPos=18;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordflow">if</span>(padded == bitPos)</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;         *destination=<span class="charliteral">&#39;=&#39;</span>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;         padded-=6;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      <span class="keywordflow">else</span> *destination=<a class="code" href="a00120.html#a14624ccef7404b1f0bcdc229c91f7f97" title="List of characters in order for Base64 encoding.">base64Characters</a>[ (buffer &gt;&gt; bitPos)&amp;0x3f ];</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      bitPos -= 6;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno"><a class="code" href="a00063.html#afe9099eedbfc37a07fe4b9b0fdb018d2">  646</a></span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keyword">typename</span> <a class="code" href="a00063.html#a849a173b292b1a3d9c3a6baf4ffc4daf">Fastcgipp::Http::Sessions&lt;T&gt;::iterator</a> <a class="code" href="a00063.html#afe9099eedbfc37a07fe4b9b0fdb018d2" title="Generates a new session pair with a random ID value.">Fastcgipp::Http::Sessions&lt;T&gt;::generate</a>(<span class="keyword">const</span> T&amp; value_)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;{</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   std::pair&lt;iterator,bool&gt; retVal;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   retVal.second=<span class="keyword">false</span>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   <span class="keywordflow">while</span>(!retVal.second)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      retVal=insert(std::pair&lt;SessionId, T&gt;(<a class="code" href="a00062.html" title="Defines ID values for HTTP sessions.">SessionId</a>(), value_));</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;   <span class="keywordflow">return</span> retVal.first;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;}</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 22 2012 20:35:53 for fastcgi++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1
</small></address>
</body>
</html>
