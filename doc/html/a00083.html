<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>fastcgi++: Fastcgipp::Transceiver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">fastcgi++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a00118.html">Fastcgipp</a></li><li class="navelem"><a class="el" href="a00083.html">Transceiver</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Fastcgipp::Transceiver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles low level communication with "the other side".  
 <a href="a00083.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="a00112_source.html">transceiver.hpp</a>&gt;</code></p>

<p><a href="a00179.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00011.html">Buffer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer type for transmission of FastCGI records  <a href="a00011.html#details">More...</a><br/></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00028.html">fdBuffer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer type for receiving FastCGI records  <a href="a00028.html#details">More...</a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af06e586f5a49dd694f2ae98398870721"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#af06e586f5a49dd694f2ae98398870721">handler</a> ()</td></tr>
<tr class="memdesc:af06e586f5a49dd694f2ae98398870721"><td class="mdescLeft">&#160;</td><td class="mdescRight">General transceiver handler.  <a href="#af06e586f5a49dd694f2ae98398870721"></a><br/></td></tr>
<tr class="memitem:a5019405a5a05d60fdaa73d349cca58c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00010.html">Block</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#a5019405a5a05d60fdaa73d349cca58c0">requestWrite</a> (size_t size)</td></tr>
<tr class="memdesc:a5019405a5a05d60fdaa73d349cca58c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Direct interface to <a class="el" href="a00011.html#acf2cce1c96a7138adda98414f4e0d921" title="Request a write block in the buffer.">Buffer::requestWrite()</a>  <a href="#a5019405a5a05d60fdaa73d349cca58c0"></a><br/></td></tr>
<tr class="memitem:a1a720bf113ad9781e59b0fc021988d29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#a1a720bf113ad9781e59b0fc021988d29">secureWrite</a> (size_t size, <a class="el" href="a00030.html">Protocol::FullId</a> id, bool kill)</td></tr>
<tr class="memdesc:a1a720bf113ad9781e59b0fc021988d29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Direct interface to <a class="el" href="a00011.html#aa1a80f3feb1355bd5bc57545d16c309e" title="Secure a write in the buffer.">Buffer::secureWrite()</a>  <a href="#a1a720bf113ad9781e59b0fc021988d29"></a><br/></td></tr>
<tr class="memitem:ab8be64ba57bcef64d313960544400d6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#ab8be64ba57bcef64d313960544400d6c">Transceiver</a> (int fd_, boost::function&lt; void(<a class="el" href="a00030.html">Protocol::FullId</a>, <a class="el" href="a00041.html">Message</a>)&gt; sendMessage_)</td></tr>
<tr class="memdesc:ab8be64ba57bcef64d313960544400d6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#ab8be64ba57bcef64d313960544400d6c"></a><br/></td></tr>
<tr class="memitem:a5c1bafc977eaa9e4c3e94a5b9eab59eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#a5c1bafc977eaa9e4c3e94a5b9eab59eb">sleep</a> ()</td></tr>
<tr class="memdesc:a5c1bafc977eaa9e4c3e94a5b9eab59eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks until there is data to receive or a call to <a class="el" href="a00083.html#a4dfd5de627b92f6bb5a834a68b20bb85" title="Forces a wakeup from a call to sleep()">wake()</a> is made.  <a href="#a5c1bafc977eaa9e4c3e94a5b9eab59eb"></a><br/></td></tr>
<tr class="memitem:a4dfd5de627b92f6bb5a834a68b20bb85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#a4dfd5de627b92f6bb5a834a68b20bb85">wake</a> ()</td></tr>
<tr class="memdesc:a4dfd5de627b92f6bb5a834a68b20bb85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forces a wakeup from a call to <a class="el" href="a00083.html#a5c1bafc977eaa9e4c3e94a5b9eab59eb" title="Blocks until there is data to receive or a call to wake() is made.">sleep()</a>  <a href="#a4dfd5de627b92f6bb5a834a68b20bb85"></a><br/></td></tr>
<tr class="memitem:a0c9d8292e0cd5ca9bb454755aed4051b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#a0c9d8292e0cd5ca9bb454755aed4051b">freeFd</a> (int fd_)</td></tr>
<tr class="memdesc:a0c9d8292e0cd5ca9bb454755aed4051b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for freeFd(int fd, std::vector&lt;pollfd&gt; pollFds, std::map&lt;int, fdBuffer&gt; fdBuffers)  <a href="#a0c9d8292e0cd5ca9bb454755aed4051b"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4bd67bf98a35ee4ce178b76e4f77ad4b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#a4bd67bf98a35ee4ce178b76e4f77ad4b">freeFd</a> (int fd, std::vector&lt; pollfd &gt; &amp;<a class="el" href="a00083.html#a4b163da2ea08d648a34f9903b86d82fe">pollFds</a>, std::map&lt; int, <a class="el" href="a00028.html">fdBuffer</a> &gt; &amp;<a class="el" href="a00083.html#a28c9ac40d0fe11414bc86ad2b8ce4953">fdBuffers</a>)</td></tr>
<tr class="memdesc:a4bd67bf98a35ee4ce178b76e4f77ad4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free fd/pipe and all it's associated resources.  <a href="#a4bd67bf98a35ee4ce178b76e4f77ad4b"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a54ffa1d25fed65ff61024ff8ce26a99b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#a54ffa1d25fed65ff61024ff8ce26a99b">transmit</a> ()</td></tr>
<tr class="memdesc:a54ffa1d25fed65ff61024ff8ce26a99b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit all buffered data possible.  <a href="#a54ffa1d25fed65ff61024ff8ce26a99b"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8656d4bd7359d7e12a9cc5921fc3a1d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00011.html">Buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#a8656d4bd7359d7e12a9cc5921fc3a1d4">buffer</a></td></tr>
<tr class="memdesc:a8656d4bd7359d7e12a9cc5921fc3a1d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer for transmitting data  <a href="#a8656d4bd7359d7e12a9cc5921fc3a1d4"></a><br/></td></tr>
<tr class="memitem:acc1090414ba4805db330e09a3f26178e"><td class="memItemLeft" align="right" valign="top">boost::function&lt; void(<a class="el" href="a00030.html">Protocol::FullId</a>, <br class="typebreak"/>
<a class="el" href="a00041.html">Message</a>)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#acc1090414ba4805db330e09a3f26178e">sendMessage</a></td></tr>
<tr class="memdesc:acc1090414ba4805db330e09a3f26178e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to call to pass messages to requests.  <a href="#acc1090414ba4805db330e09a3f26178e"></a><br/></td></tr>
<tr class="memitem:a4b163da2ea08d648a34f9903b86d82fe"><td class="memItemLeft" align="right" valign="top">std::vector&lt; pollfd &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#a4b163da2ea08d648a34f9903b86d82fe">pollFds</a></td></tr>
<tr class="memdesc:a4b163da2ea08d648a34f9903b86d82fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">poll() file descriptors container  <a href="#a4b163da2ea08d648a34f9903b86d82fe"></a><br/></td></tr>
<tr class="memitem:a19c7caeb43236b6c68f38d04e4bfca33"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#a19c7caeb43236b6c68f38d04e4bfca33">socket</a></td></tr>
<tr class="memdesc:a19c7caeb43236b6c68f38d04e4bfca33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Socket to listen for connections on.  <a href="#a19c7caeb43236b6c68f38d04e4bfca33"></a><br/></td></tr>
<tr class="memitem:a7b7f39053271cd4afd41b4672d7eeec4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#a7b7f39053271cd4afd41b4672d7eeec4">wakeUpFdIn</a></td></tr>
<tr class="memdesc:a7b7f39053271cd4afd41b4672d7eeec4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input file descriptor to the wakeup socket pair.  <a href="#a7b7f39053271cd4afd41b4672d7eeec4"></a><br/></td></tr>
<tr class="memitem:aba0fbaf4469c1c7e36d75a4faade3b7e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#aba0fbaf4469c1c7e36d75a4faade3b7e">wakeUpFdOut</a></td></tr>
<tr class="memdesc:aba0fbaf4469c1c7e36d75a4faade3b7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output file descriptor to the wakeup socket pair.  <a href="#aba0fbaf4469c1c7e36d75a4faade3b7e"></a><br/></td></tr>
<tr class="memitem:a28c9ac40d0fe11414bc86ad2b8ce4953"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, <a class="el" href="a00028.html">fdBuffer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html#a28c9ac40d0fe11414bc86ad2b8ce4953">fdBuffers</a></td></tr>
<tr class="memdesc:a28c9ac40d0fe11414bc86ad2b8ce4953"><td class="mdescLeft">&#160;</td><td class="mdescRight">Container associating file descriptors with their receive buffers.  <a href="#a28c9ac40d0fe11414bc86ad2b8ce4953"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Handles low level communication with "the other side". </p>
<p>This class handles the sending/receiving/buffering of data through the OS level sockets and also the creation/destruction of the sockets themselves. </p>

<p>Definition at line <a class="el" href="a00112_source.html#l00079">79</a> of file <a class="el" href="a00112_source.html">transceiver.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab8be64ba57bcef64d313960544400d6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Fastcgipp::Transceiver::Transceiver </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::function&lt; void(<a class="el" href="a00030.html">Protocol::FullId</a>, <a class="el" href="a00041.html">Message</a>)&gt;&#160;</td>
          <td class="paramname"><em>sendMessage_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>Construct a transceiver object based on an initial file descriptor to listen on and a function to pass messages on to.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fd_</td><td>File descriptor to listen for connections on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sendMessage_</td><td>Function to call to pass messages to requests </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00111_source.html#l00195">195</a> of file <a class="el" href="a00111_source.html">transceiver.cpp</a>.</p>

<p>References <a class="el" href="a00083.html#a4b163da2ea08d648a34f9903b86d82fe">pollFds</a>, <a class="el" href="a00083.html#a19c7caeb43236b6c68f38d04e4bfca33">socket</a>, <a class="el" href="a00083.html#a7b7f39053271cd4afd41b4672d7eeec4">wakeUpFdIn</a>, and <a class="el" href="a00083.html#aba0fbaf4469c1c7e36d75a4faade3b7e">wakeUpFdOut</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a4bd67bf98a35ee4ce178b76e4f77ad4b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Fastcgipp::Transceiver::freeFd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; pollfd &gt; &amp;&#160;</td>
          <td class="paramname"><em>pollFds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; int, <a class="el" href="a00028.html">fdBuffer</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>fdBuffers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free fd/pipe and all it's associated resources. </p>
<p>By calling this function you close the passed file descriptor and free up it's associated buffers and resources. It is safe to call this function at any time with any fd(even bad ones). If requests still exists with this fd then they will be lost.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>File descriptor to delete/free up </td></tr>
    <tr><td class="paramname">pollFds</td><td>Epoll container </td></tr>
    <tr><td class="paramname">fdBuffers</td><td>Container of fd/pipe buffers </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00111_source.html#l00316">316</a> of file <a class="el" href="a00111_source.html">transceiver.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00083.html#a54ffa1d25fed65ff61024ff8ce26a99b">transmit()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c9d8292e0cd5ca9bb454755aed4051b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Fastcgipp::Transceiver::freeFd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function for freeFd(int fd, std::vector&lt;pollfd&gt; pollFds, std::map&lt;int, fdBuffer&gt; fdBuffers) </p>

<p>Definition at line <a class="el" href="a00112_source.html#l00292">292</a> of file <a class="el" href="a00112_source.html">transceiver.hpp</a>.</p>

<p>References <a class="el" href="a00083.html#a28c9ac40d0fe11414bc86ad2b8ce4953">fdBuffers</a>, <a class="el" href="a00083.html#a0c9d8292e0cd5ca9bb454755aed4051b">freeFd()</a>, and <a class="el" href="a00083.html#a4b163da2ea08d648a34f9903b86d82fe">pollFds</a>.</p>

<p>Referenced by <a class="el" href="a00083.html#a0c9d8292e0cd5ca9bb454755aed4051b">freeFd()</a>.</p>

</div>
</div>
<a class="anchor" id="af06e586f5a49dd694f2ae98398870721"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Fastcgipp::Transceiver::handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General transceiver handler. </p>
<p>This function is called by <a class="el" href="a00039.html#a578c8468166d892d1858ad6f4d953d8d" title="General handling function to be called after construction.">Manager::handler()</a> to both transmit data passed to it from requests and relay received data back to them as a <a class="el" href="a00041.html" title="Data structure used to pass messages within the fastcgi++ task management system.">Message</a>. The function will return true if there is nothing at all for it to do.</p>
<dl class="section return"><dt>Returns:</dt><dd>Boolean value indicating whether there is data to be transmitted or received </dd></dl>

<p>Definition at line <a class="el" href="a00111_source.html#l00064">64</a> of file <a class="el" href="a00111_source.html">transceiver.cpp</a>.</p>

<p>References <a class="el" href="a00118.html#ab81025146f21643e6e765612d5d57462">Fastcgipp::reventsZero()</a>, <a class="el" href="a00041.html#a93817f3790bbeaf27d4e669ed3ce7179">Fastcgipp::Message::size</a>, and <a class="el" href="a00041.html#aba5936b4703cc3c398bbf0bb9eb6bd4f">Fastcgipp::Message::type</a>.</p>

</div>
</div>
<a class="anchor" id="a5019405a5a05d60fdaa73d349cca58c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00010.html">Block</a> Fastcgipp::Transceiver::requestWrite </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Direct interface to <a class="el" href="a00011.html#acf2cce1c96a7138adda98414f4e0d921" title="Request a write block in the buffer.">Buffer::requestWrite()</a> </p>

<p>Definition at line <a class="el" href="a00112_source.html#l00093">93</a> of file <a class="el" href="a00112_source.html">transceiver.hpp</a>.</p>

<p>References <a class="el" href="a00083.html#a8656d4bd7359d7e12a9cc5921fc3a1d4">buffer</a>, and <a class="el" href="a00011.html#acf2cce1c96a7138adda98414f4e0d921">Fastcgipp::Transceiver::Buffer::requestWrite()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a720bf113ad9781e59b0fc021988d29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Fastcgipp::Transceiver::secureWrite </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00030.html">Protocol::FullId</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>kill</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Direct interface to <a class="el" href="a00011.html#aa1a80f3feb1355bd5bc57545d16c309e" title="Secure a write in the buffer.">Buffer::secureWrite()</a> </p>

<p>Definition at line <a class="el" href="a00112_source.html#l00095">95</a> of file <a class="el" href="a00112_source.html">transceiver.hpp</a>.</p>

<p>References <a class="el" href="a00083.html#a8656d4bd7359d7e12a9cc5921fc3a1d4">buffer</a>, <a class="el" href="a00011.html#aa1a80f3feb1355bd5bc57545d16c309e">Fastcgipp::Transceiver::Buffer::secureWrite()</a>, and <a class="el" href="a00083.html#a54ffa1d25fed65ff61024ff8ce26a99b">transmit()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c1bafc977eaa9e4c3e94a5b9eab59eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Fastcgipp::Transceiver::sleep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Blocks until there is data to receive or a call to <a class="el" href="a00083.html#a4dfd5de627b92f6bb5a834a68b20bb85" title="Forces a wakeup from a call to sleep()">wake()</a> is made. </p>

<p>Definition at line <a class="el" href="a00112_source.html#l00106">106</a> of file <a class="el" href="a00112_source.html">transceiver.hpp</a>.</p>

<p>References <a class="el" href="a00083.html#a4b163da2ea08d648a34f9903b86d82fe">pollFds</a>.</p>

</div>
</div>
<a class="anchor" id="a54ffa1d25fed65ff61024ff8ce26a99b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Fastcgipp::Transceiver::transmit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transmit all buffered data possible. </p>

<p>Definition at line <a class="el" href="a00111_source.html#l00024">24</a> of file <a class="el" href="a00111_source.html">transceiver.cpp</a>.</p>

<p>References <a class="el" href="a00083.html#a8656d4bd7359d7e12a9cc5921fc3a1d4">buffer</a>, <a class="el" href="a00011.html#af3f403dd53cad518f8cc12d03ac67bd2">Fastcgipp::Transceiver::Buffer::empty()</a>, <a class="el" href="a00083.html#a4bd67bf98a35ee4ce178b76e4f77ad4b">freeFd()</a>, <a class="el" href="a00011.html#aca9630cbe4c0c08d009fbeed5bd85e92">Fastcgipp::Transceiver::Buffer::freeRead()</a>, and <a class="el" href="a00011.html#ac017d6e4d7b8552a8c637da676ce7402">Fastcgipp::Transceiver::Buffer::requestRead()</a>.</p>

<p>Referenced by <a class="el" href="a00083.html#a1a720bf113ad9781e59b0fc021988d29">secureWrite()</a>.</p>

</div>
</div>
<a class="anchor" id="a4dfd5de627b92f6bb5a834a68b20bb85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Fastcgipp::Transceiver::wake </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Forces a wakeup from a call to <a class="el" href="a00083.html#a5c1bafc977eaa9e4c3e94a5b9eab59eb" title="Blocks until there is data to receive or a call to wake() is made.">sleep()</a> </p>

<p>Definition at line <a class="el" href="a00111_source.html#l00189">189</a> of file <a class="el" href="a00111_source.html">transceiver.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a8656d4bd7359d7e12a9cc5921fc3a1d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00011.html">Buffer</a> Fastcgipp::Transceiver::buffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffer for transmitting data </p>

<p>Definition at line <a class="el" href="a00112_source.html#l00258">258</a> of file <a class="el" href="a00112_source.html">transceiver.hpp</a>.</p>

<p>Referenced by <a class="el" href="a00083.html#a5019405a5a05d60fdaa73d349cca58c0">requestWrite()</a>, <a class="el" href="a00083.html#a1a720bf113ad9781e59b0fc021988d29">secureWrite()</a>, and <a class="el" href="a00083.html#a54ffa1d25fed65ff61024ff8ce26a99b">transmit()</a>.</p>

</div>
</div>
<a class="anchor" id="a28c9ac40d0fe11414bc86ad2b8ce4953"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;int, <a class="el" href="a00028.html">fdBuffer</a>&gt; Fastcgipp::Transceiver::fdBuffers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Container associating file descriptors with their receive buffers. </p>

<p>Definition at line <a class="el" href="a00112_source.html#l00272">272</a> of file <a class="el" href="a00112_source.html">transceiver.hpp</a>.</p>

<p>Referenced by <a class="el" href="a00083.html#a0c9d8292e0cd5ca9bb454755aed4051b">freeFd()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b163da2ea08d648a34f9903b86d82fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;pollfd&gt; Fastcgipp::Transceiver::pollFds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>poll() file descriptors container </p>

<p>Definition at line <a class="el" href="a00112_source.html#l00263">263</a> of file <a class="el" href="a00112_source.html">transceiver.hpp</a>.</p>

<p>Referenced by <a class="el" href="a00083.html#a0c9d8292e0cd5ca9bb454755aed4051b">freeFd()</a>, <a class="el" href="a00083.html#a5c1bafc977eaa9e4c3e94a5b9eab59eb">sleep()</a>, and <a class="el" href="a00083.html#ab8be64ba57bcef64d313960544400d6c">Transceiver()</a>.</p>

</div>
</div>
<a class="anchor" id="acc1090414ba4805db330e09a3f26178e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::function&lt;void(<a class="el" href="a00030.html">Protocol::FullId</a>, <a class="el" href="a00041.html">Message</a>)&gt; Fastcgipp::Transceiver::sendMessage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to call to pass messages to requests. </p>

<p>Definition at line <a class="el" href="a00112_source.html#l00260">260</a> of file <a class="el" href="a00112_source.html">transceiver.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a19c7caeb43236b6c68f38d04e4bfca33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Fastcgipp::Transceiver::socket</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Socket to listen for connections on. </p>

<p>Definition at line <a class="el" href="a00112_source.html#l00265">265</a> of file <a class="el" href="a00112_source.html">transceiver.hpp</a>.</p>

<p>Referenced by <a class="el" href="a00083.html#ab8be64ba57bcef64d313960544400d6c">Transceiver()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b7f39053271cd4afd41b4672d7eeec4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Fastcgipp::Transceiver::wakeUpFdIn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Input file descriptor to the wakeup socket pair. </p>

<p>Definition at line <a class="el" href="a00112_source.html#l00267">267</a> of file <a class="el" href="a00112_source.html">transceiver.hpp</a>.</p>

<p>Referenced by <a class="el" href="a00083.html#ab8be64ba57bcef64d313960544400d6c">Transceiver()</a>.</p>

</div>
</div>
<a class="anchor" id="aba0fbaf4469c1c7e36d75a4faade3b7e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Fastcgipp::Transceiver::wakeUpFdOut</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Output file descriptor to the wakeup socket pair. </p>

<p>Definition at line <a class="el" href="a00112_source.html#l00269">269</a> of file <a class="el" href="a00112_source.html">transceiver.hpp</a>.</p>

<p>Referenced by <a class="el" href="a00083.html#ab8be64ba57bcef64d313960544400d6c">Transceiver()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="a00112_source.html">transceiver.hpp</a></li>
<li><a class="el" href="a00111_source.html">transceiver.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 22 2012 20:35:53 for fastcgi++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1
</small></address>
</body>
</html>
