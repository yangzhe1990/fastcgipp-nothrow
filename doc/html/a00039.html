<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>fastcgi++: Fastcgipp::Manager&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">fastcgi++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a00118.html">Fastcgipp</a></li><li class="navelem"><a class="el" href="a00039.html">Manager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Fastcgipp::Manager&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>General task and protocol management class.  
 <a href="a00039.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="a00102_source.html">manager.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Fastcgipp::Manager&lt; T &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="a00039.png" usemap="#Fastcgipp::Manager&lt; T &gt;_map" alt=""/>
  <map id="Fastcgipp::Manager&lt; T &gt;_map" name="Fastcgipp::Manager&lt; T &gt;_map">
<area href="a00040.html" title="General task and protocol management class." alt="Fastcgipp::ManagerPar" shape="rect" coords="0,0,155,24"/>
</map>
 </div></div>

<p><a href="a00175.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00060.html">Requests</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associative container type for active requests.  <a href="a00060.html#details">More...</a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac095e96502ade5d3d9ae8dce6bf3aba7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00039.html#ac095e96502ade5d3d9ae8dce6bf3aba7">Manager</a> (int fd=0, bool doSetupSignals=true)</td></tr>
<tr class="memdesc:ac095e96502ade5d3d9ae8dce6bf3aba7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct from a file descriptor.  <a href="#ac095e96502ade5d3d9ae8dce6bf3aba7"></a><br/></td></tr>
<tr class="memitem:a578c8468166d892d1858ad6f4d953d8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00039.html#a578c8468166d892d1858ad6f4d953d8d">handler</a> ()</td></tr>
<tr class="memdesc:a578c8468166d892d1858ad6f4d953d8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">General handling function to be called after construction.  <a href="#a578c8468166d892d1858ad6f4d953d8d"></a><br/></td></tr>
<tr class="memitem:a33fabd7f6c5eab389ef766fe67f4f870"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00039.html#a33fabd7f6c5eab389ef766fe67f4f870">push</a> (<a class="el" href="a00030.html">Protocol::FullId</a> id, <a class="el" href="a00041.html">Message</a> message)</td></tr>
<tr class="memdesc:a33fabd7f6c5eab389ef766fe67f4f870"><td class="mdescLeft">&#160;</td><td class="mdescRight">Passes messages to requests.  <a href="#a33fabd7f6c5eab389ef766fe67f4f870"></a><br/></td></tr>
<tr class="memitem:add4959b62b6c11acb9dd66008fe527de"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00039.html#add4959b62b6c11acb9dd66008fe527de">getRequestsSize</a> () const </td></tr>
<tr class="memdesc:add4959b62b6c11acb9dd66008fe527de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the amount of pending requests.  <a href="#add4959b62b6c11acb9dd66008fe527de"></a><br/></td></tr>
<tr class="memitem:afafa21cdada5dc04711dbe6b8a227a65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#afafa21cdada5dc04711dbe6b8a227a65">stop</a> ()</td></tr>
<tr class="memdesc:afafa21cdada5dc04711dbe6b8a227a65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Halter for the handler() function.  <a href="#afafa21cdada5dc04711dbe6b8a227a65"></a><br/></td></tr>
<tr class="memitem:a2a5766afac7d638d5a92165332c77fac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#a2a5766afac7d638d5a92165332c77fac">terminate</a> ()</td></tr>
<tr class="memdesc:a2a5766afac7d638d5a92165332c77fac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminator for the handler() function.  <a href="#a2a5766afac7d638d5a92165332c77fac"></a><br/></td></tr>
<tr class="memitem:adda39bbbf7a0f2d2481ce094ad4f1a76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#adda39bbbf7a0f2d2481ce094ad4f1a76">setupSignals</a> ()</td></tr>
<tr class="memdesc:adda39bbbf7a0f2d2481ce094ad4f1a76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the handlers for POSIX signals.  <a href="#adda39bbbf7a0f2d2481ce094ad4f1a76"></a><br/></td></tr>
<tr class="memitem:acf1a59b225c0606f22b141240fe68d30"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#acf1a59b225c0606f22b141240fe68d30">getMessagesSize</a> () const </td></tr>
<tr class="memdesc:acf1a59b225c0606f22b141240fe68d30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells you the size of the message queue.  <a href="#acf1a59b225c0606f22b141240fe68d30"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a59d7ceeaea4c82e6d396bdc016feba3f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#a59d7ceeaea4c82e6d396bdc016feba3f">localHandler</a> (<a class="el" href="a00030.html">Protocol::FullId</a> id)</td></tr>
<tr class="memdesc:a59d7ceeaea4c82e6d396bdc016feba3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles management messages.  <a href="#a59d7ceeaea4c82e6d396bdc016feba3f"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7a456e69515f15e7211448b9542a9157"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00083.html">Transceiver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#a7a456e69515f15e7211448b9542a9157">transceiver</a></td></tr>
<tr class="memdesc:a7a456e69515f15e7211448b9542a9157"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles low level communication with the other side.  <a href="#a7a456e69515f15e7211448b9542a9157"></a><br/></td></tr>
<tr class="memitem:afce84ab45d8935a43c01a1b07b03edd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00081.html">Tasks</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#afce84ab45d8935a43c01a1b07b03edd1">tasks</a></td></tr>
<tr class="memdesc:afce84ab45d8935a43c01a1b07b03edd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue for pending tasks.  <a href="#afce84ab45d8935a43c01a1b07b03edd1"></a><br/></td></tr>
<tr class="memitem:a9eb79e7889e2ee8176a51d418cb787b9"><td class="memItemLeft" align="right" valign="top">std::queue&lt; <a class="el" href="a00041.html">Message</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#a9eb79e7889e2ee8176a51d418cb787b9">messages</a></td></tr>
<tr class="memdesc:a9eb79e7889e2ee8176a51d418cb787b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A queue of messages for the manager itself.  <a href="#a9eb79e7889e2ee8176a51d418cb787b9"></a><br/></td></tr>
<tr class="memitem:a0d9c492f9d29c602d36dffa3765c12ab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#a0d9c492f9d29c602d36dffa3765c12ab">asleep</a></td></tr>
<tr class="memdesc:a0d9c492f9d29c602d36dffa3765c12ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicated whether or not the manager is currently in sleep mode.  <a href="#a0d9c492f9d29c602d36dffa3765c12ab"></a><br/></td></tr>
<tr class="memitem:af9d6020701877b4f87f8e4243ab20b20"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#af9d6020701877b4f87f8e4243ab20b20">sleepMutex</a></td></tr>
<tr class="memdesc:af9d6020701877b4f87f8e4243ab20b20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex to make accessing asleep thread safe.  <a href="#af9d6020701877b4f87f8e4243ab20b20"></a><br/></td></tr>
<tr class="memitem:a78f94f306dee8adad1722d61eabf9a12"><td class="memItemLeft" align="right" valign="top">pthread_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#a78f94f306dee8adad1722d61eabf9a12">threadId</a></td></tr>
<tr class="memdesc:a78f94f306dee8adad1722d61eabf9a12"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pthread id of the thread the handler() function is operating in.  <a href="#a78f94f306dee8adad1722d61eabf9a12"></a><br/></td></tr>
<tr class="memitem:a73d2593342f372da0bacbfbf7d2d81d5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#a73d2593342f372da0bacbfbf7d2d81d5">stopBool</a></td></tr>
<tr class="memdesc:a73d2593342f372da0bacbfbf7d2d81d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boolean value indicating that handler() should halt.  <a href="#a73d2593342f372da0bacbfbf7d2d81d5"></a><br/></td></tr>
<tr class="memitem:ae845bc7af8a3f3316f55b4e55fe7db2c"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#ae845bc7af8a3f3316f55b4e55fe7db2c">stopMutex</a></td></tr>
<tr class="memdesc:ae845bc7af8a3f3316f55b4e55fe7db2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex to make stopBool thread safe.  <a href="#ae845bc7af8a3f3316f55b4e55fe7db2c"></a><br/></td></tr>
<tr class="memitem:af0c95e7b9b3a640493c496427ed0a4c8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#af0c95e7b9b3a640493c496427ed0a4c8">terminateBool</a></td></tr>
<tr class="memdesc:af0c95e7b9b3a640493c496427ed0a4c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boolean value indication that handler() should terminate.  <a href="#af0c95e7b9b3a640493c496427ed0a4c8"></a><br/></td></tr>
<tr class="memitem:a63746ac70689acfb1d7cbb7a41ae798c"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00040.html#a63746ac70689acfb1d7cbb7a41ae798c">terminateMutex</a></td></tr>
<tr class="memdesc:a63746ac70689acfb1d7cbb7a41ae798c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex to make terminateMutex thread safe.  <a href="#a63746ac70689acfb1d7cbb7a41ae798c"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:abf6e08dba77676559ecc3e4bc9772caa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00060.html">Requests</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00039.html#abf6e08dba77676559ecc3e4bc9772caa">requests</a></td></tr>
<tr class="memdesc:abf6e08dba77676559ecc3e4bc9772caa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associative container type for active requests.  <a href="#abf6e08dba77676559ecc3e4bc9772caa"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><h3>template&lt;class T&gt;<br/>
class Fastcgipp::Manager&lt; T &gt;</h3>

<p>General task and protocol management class. </p>
<p>Handles all task and protocol management, creation/destruction of requests and passing of messages to requests. The template argument should be a class type derived from the <a class="el" href="a00059.html" title="Request handling class">Request</a> class with at least the response() function defined. To operate this class all that needs to be done is creating an object and calling <a class="el" href="a00039.html#a578c8468166d892d1858ad6f4d953d8d" title="General handling function to be called after construction.">handler()</a> on it.</p>
<dl class="tparams"><dt>Template Parameters:</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Class that will handle individual requests. Should be derived from the <a class="el" href="a00059.html" title="Request handling class">Request</a> class. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00102_source.html#l00185">185</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac095e96502ade5d3d9ae8dce6bf3aba7"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00039.html">Fastcgipp::Manager</a>&lt; T &gt;::<a class="el" href="a00039.html">Manager</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>doSetupSignals</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct from a file descriptor. </p>
<p>The only piece of data required to construct a Manager object is a file descriptor to listen on for incoming connections. By default mod_fastcgi sets up file descriptor 0 to do this so it is the value passed by default to the constructor. The only time it would be another value is if an external FastCGI server was defined.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>File descriptor to listen on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">doSetupSignals</td><td>If true, signal handlers will be set up for SIGTERM and SIGUSR1. If false, no signal handlers will be set up. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00102_source.html#l00199">199</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="acf1a59b225c0606f22b141240fe68d30"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Fastcgipp::ManagerPar::getMessagesSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells you the size of the message queue. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00109">109</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

<p>References <a class="el" href="a00040.html#a9eb79e7889e2ee8176a51d418cb787b9">Fastcgipp::ManagerPar::messages</a>.</p>

</div>
</div>
<a class="anchor" id="add4959b62b6c11acb9dd66008fe527de"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="a00039.html">Fastcgipp::Manager</a>&lt; T &gt;::getRequestsSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the amount of pending requests. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00230">230</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

<p>References <a class="el" href="a00039.html#abf6e08dba77676559ecc3e4bc9772caa">Fastcgipp::Manager&lt; T &gt;::requests</a>.</p>

</div>
</div>
<a class="anchor" id="a578c8468166d892d1858ad6f4d953d8d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a00039.html">Fastcgipp::Manager</a>&lt; T &gt;::handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>General handling function to be called after construction. </p>
<p>This function will loop continuously manager tasks and FastCGI requests until either the <a class="el" href="a00040.html#afafa21cdada5dc04711dbe6b8a227a65" title="Halter for the handler() function.">stop()</a> function is called (obviously from another thread) or the appropriate signals are caught.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="a00040.html#adda39bbbf7a0f2d2481ce094ad4f1a76" title="Configure the handlers for POSIX signals.">setupSignals()</a> </dd></dl>

<p>Definition at line <a class="el" href="a00102_source.html#l00293">293</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a59d7ceeaea4c82e6d396bdc016feba3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Fastcgipp::ManagerPar::localHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00030.html">Protocol::FullId</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles management messages. </p>
<p>This function is called by handler() in the case that a management message is recieved. Although the request id of a management record is always 0, the <a class="el" href="a00030.html" title="A full ID value for a FastCGI request.">Protocol::FullId</a> associated with the message is passed to this function to keep track of it's associated file descriptor.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>FullId associated with the messsage. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00101_source.html#l00065">65</a> of file <a class="el" href="a00101_source.html">manager.cpp</a>.</p>

<p>References <a class="el" href="a00041.html#a4467d1b63f295c224943dc1a1ef112ff">Fastcgipp::Message::data</a>, <a class="el" href="a00010.html#abdc29a44ee3474fe007ac305504bd4b3">Fastcgipp::Block::data</a>, <a class="el" href="a00121.html#a79e41b489a9b2c0374eee108d375b646a400b2c68539eb222bfcc432d45925986">Fastcgipp::Protocol::GET_VALUES</a>, <a class="el" href="a00121.html#ad3bef09ae4d035e027da61167cef4f2b">Fastcgipp::Protocol::maxConnsReply</a>, <a class="el" href="a00121.html#afd0ea5adad5f795047074573e7794772">Fastcgipp::Protocol::maxReqsReply</a>, <a class="el" href="a00121.html#abe9f252e77f5bb1217611ff6a15cb56b">Fastcgipp::Protocol::mpxsConnsReply</a>, <a class="el" href="a00121.html#a1d39bb1e6f5da92784859f9d5aff4e2a">Fastcgipp::Protocol::processParamHeader()</a>, <a class="el" href="a00121.html#a79e41b489a9b2c0374eee108d375b646a19539e3c86cc082596ee265ee9daf103">Fastcgipp::Protocol::UNKNOWN_TYPE</a>, and <a class="el" href="a00121.html#a1f2b069bfe52a9d5cb9e84dacf85aec0">Fastcgipp::Protocol::version</a>.</p>

</div>
</div>
<a class="anchor" id="a33fabd7f6c5eab389ef766fe67f4f870"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a00039.html">Fastcgipp::Manager</a>&lt; T &gt;::push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00030.html">Protocol::FullId</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00041.html">Message</a>&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Passes messages to requests. </p>
<p>Whenever a message needs to be passed to a request, it must be done through this function. Requests are associated with their <a class="el" href="a00030.html" title="A full ID value for a FastCGI request.">Protocol::FullId</a> value so that and the message itself is all that is needed. Calling this function from another thread is safe. Although this function can be called from outside the fastcgi++ library, the <a class="el" href="a00059.html" title="Request handling class">Request</a> class contains a callback function based on this that is more usable. An id with a <a class="el" href="a00121.html#ad13bef0f4b827d3f981b8c6ca98bd4e4" title="The request ID of a FastCGI request.">Protocol::RequestId</a> of 0 means the message is destined for the Manager itself. Should a message by passed with an id that doesn't exist, it will be discarded.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The id of the request the message should go to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>The message itself</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="a00059.html#a0f95b51bccf1793a06f80c641f3561e7" title="Accessor for the callback function for dealings outside the fastcgi++ library.">Request::callback</a> </dd></dl>

<p>Definition at line <a class="el" href="a00102_source.html#l00247">247</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

<p>References <a class="el" href="a00121.html#a79e41b489a9b2c0374eee108d375b646a2fa87fd35208ef6d3c54733c4fcb930f">Fastcgipp::Protocol::BEGIN_REQUEST</a>, <a class="el" href="a00041.html#a4467d1b63f295c224943dc1a1ef112ff">Fastcgipp::Message::data</a>, and <a class="el" href="a00041.html#aba5936b4703cc3c398bbf0bb9eb6bd4f">Fastcgipp::Message::type</a>.</p>

</div>
</div>
<a class="anchor" id="adda39bbbf7a0f2d2481ce094ad4f1a76"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Fastcgipp::ManagerPar::setupSignals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the handlers for POSIX signals. </p>
<p>By calling this function appropriate handlers will be set up for SIGPIPE, SIGUSR1 and SIGTERM. It is called by default upon construction of a <a class="el" href="a00039.html" title="General task and protocol management class.">Manager</a> object. Should the user want to override these handlers, it should be done post-construction.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="a00040.html#a242d278d2255c97acf19a3ff411ee702" title="General function to handler POSIX signals.">signalHandler()</a> </dd></dl>

<p>Definition at line <a class="el" href="a00101_source.html#l00053">53</a> of file <a class="el" href="a00101_source.html">manager.cpp</a>.</p>

<p>References <a class="el" href="a00040.html#a242d278d2255c97acf19a3ff411ee702">Fastcgipp::ManagerPar::signalHandler()</a>.</p>

<p>Referenced by <a class="el" href="a00040.html#aa61b9c0b76980aa64023eb0d76d13981">Fastcgipp::ManagerPar::ManagerPar()</a>.</p>

</div>
</div>
<a class="anchor" id="afafa21cdada5dc04711dbe6b8a227a65"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Fastcgipp::ManagerPar::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Halter for the handler() function. </p>
<p>This function is intended to be called from a thread separate from the handler() in order to halt it. It should also be called by a signal handler in the case of of a SIGTERM. Once handler() has been halted it may be re-called to pick up exactly where it left off without any data loss.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="a00040.html#adda39bbbf7a0f2d2481ce094ad4f1a76" title="Configure the handlers for POSIX signals.">setupSignals()</a> </dd>
<dd>
<a class="el" href="a00040.html#a242d278d2255c97acf19a3ff411ee702" title="General function to handler POSIX signals.">signalHandler()</a> </dd></dl>

<p>Definition at line <a class="el" href="a00101_source.html#l00024">24</a> of file <a class="el" href="a00101_source.html">manager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2a5766afac7d638d5a92165332c77fac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Fastcgipp::ManagerPar::terminate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Terminator for the handler() function. </p>
<p>This function is intended to be called from a signal handler in the case of of a SIGUSR1. It is similar to <a class="el" href="a00040.html#afafa21cdada5dc04711dbe6b8a227a65" title="Halter for the handler() function.">stop()</a> except that handler() will wait until all requests are complete before halting.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="a00040.html#adda39bbbf7a0f2d2481ce094ad4f1a76" title="Configure the handlers for POSIX signals.">setupSignals()</a> </dd>
<dd>
<a class="el" href="a00040.html#a242d278d2255c97acf19a3ff411ee702" title="General function to handler POSIX signals.">signalHandler()</a> </dd></dl>

<p>Definition at line <a class="el" href="a00101_source.html#l00012">12</a> of file <a class="el" href="a00101_source.html">manager.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a0d9c492f9d29c602d36dffa3765c12ab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Fastcgipp::ManagerPar::asleep</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicated whether or not the manager is currently in sleep mode. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00142">142</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9eb79e7889e2ee8176a51d418cb787b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::queue&lt;<a class="el" href="a00041.html">Message</a>&gt; Fastcgipp::ManagerPar::messages</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A queue of messages for the manager itself. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00128">128</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

<p>Referenced by <a class="el" href="a00040.html#acf1a59b225c0606f22b141240fe68d30">Fastcgipp::ManagerPar::getMessagesSize()</a>.</p>

</div>
</div>
<a class="anchor" id="abf6e08dba77676559ecc3e4bc9772caa"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00060.html">Requests</a> <a class="el" href="a00039.html">Fastcgipp::Manager</a>&lt; T &gt;::requests</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Associative container type for active requests. </p>
<p>This container associated the <a class="el" href="a00030.html" title="A full ID value for a FastCGI request.">Protocol::FullId</a> of each active request with a pointer to the actual <a class="el" href="a00059.html" title="Request handling class">Request</a> object. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00243">243</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

<p>Referenced by <a class="el" href="a00039.html#add4959b62b6c11acb9dd66008fe527de">Fastcgipp::Manager&lt; T &gt;::getRequestsSize()</a>.</p>

</div>
</div>
<a class="anchor" id="af9d6020701877b4f87f8e4243ab20b20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex Fastcgipp::ManagerPar::sleepMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mutex to make accessing asleep thread safe. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00144">144</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a73d2593342f372da0bacbfbf7d2d81d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Fastcgipp::ManagerPar::stopBool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Boolean value indicating that handler() should halt. </p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="a00040.html#afafa21cdada5dc04711dbe6b8a227a65" title="Halter for the handler() function.">stop()</a> </dd></dl>

<p>Definition at line <a class="el" href="a00102_source.html#l00156">156</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae845bc7af8a3f3316f55b4e55fe7db2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex Fastcgipp::ManagerPar::stopMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mutex to make stopBool thread safe. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00158">158</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="afce84ab45d8935a43c01a1b07b03edd1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00081.html">Tasks</a> Fastcgipp::ManagerPar::tasks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue for pending tasks. </p>
<p>This contains a queue of <a class="el" href="a00030.html" title="A full ID value for a FastCGI request.">Protocol::FullId</a> that need their handlers called. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00125">125</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af0c95e7b9b3a640493c496427ed0a4c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Fastcgipp::ManagerPar::terminateBool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Boolean value indication that handler() should terminate. </p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="a00040.html#a2a5766afac7d638d5a92165332c77fac" title="Terminator for the handler() function.">terminate()</a> </dd></dl>

<p>Definition at line <a class="el" href="a00102_source.html#l00163">163</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a63746ac70689acfb1d7cbb7a41ae798c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex Fastcgipp::ManagerPar::terminateMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mutex to make terminateMutex thread safe. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00165">165</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a78f94f306dee8adad1722d61eabf9a12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_t Fastcgipp::ManagerPar::threadId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The pthread id of the thread the handler() function is operating in. </p>
<p>Although this library is intended to be used with boost::thread and not pthread, the underlying pthread id of the handler() function is needed to call pthread_kill() when sleep is to be interrupted. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00150">150</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7a456e69515f15e7211448b9542a9157"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00083.html">Transceiver</a> Fastcgipp::ManagerPar::transceiver</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles low level communication with the other side. </p>

<p>Definition at line <a class="el" href="a00102_source.html#l00113">113</a> of file <a class="el" href="a00102_source.html">manager.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="a00102_source.html">manager.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 22 2012 20:35:53 for fastcgi++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1
</small></address>
</body>
</html>
