<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>fastcgi++: ASql::MySQL::Statement Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">fastcgi++
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a00114.html">ASql</a></li><li class="navelem"><a class="el" href="a00116.html">MySQL</a></li><li class="navelem"><a class="el" href="a00077.html">Statement</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">ASql::MySQL::Statement Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>MySQL query statement.  
 <a href="a00077.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="a00105_source.html">mysql.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ASql::MySQL::Statement:</div>
<div class="dyncontent">
 <div class="center">
  <img src="a00077.png" usemap="#ASql::MySQL::Statement_map" alt=""/>
  <map id="ASql::MySQL::Statement_map" name="ASql::MySQL::Statement_map">
<area href="a00076.html" title="SQL Statement." alt="ASql::Statement" shape="rect" coords="0,0,147,24"/>
</map>
 </div></div>

<p><a href="a00163.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a04bb1927300d27140ff8e00f7bdbcba8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a04bb1927300d27140ff8e00f7bdbcba8">Statement</a> (<a class="el" href="a00015.html">Connection</a> &amp;connection_, const char *const queryString, const size_t queryLength, const <a class="el" href="a00064.html">Data::Set</a> *const parameterSet, const <a class="el" href="a00064.html">Data::Set</a> *const resultSet)</td></tr>
<tr class="memdesc:a04bb1927300d27140ff8e00f7bdbcba8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete Constructor.  <a href="#a04bb1927300d27140ff8e00f7bdbcba8"></a><br/></td></tr>
<tr class="memitem:a7b561d3c85e5e0866a503be046de44d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a7b561d3c85e5e0866a503be046de44d5">Statement</a> (<a class="el" href="a00015.html">Connection</a> &amp;connection_)</td></tr>
<tr class="memdesc:a7b561d3c85e5e0866a503be046de44d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple Constructor.  <a href="#a7b561d3c85e5e0866a503be046de44d5"></a><br/></td></tr>
<tr class="memitem:a667b95d0e8018e22e0377dd3181e8557"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a667b95d0e8018e22e0377dd3181e8557">~Statement</a> ()</td></tr>
<tr class="memitem:a847a2d16d72c36303858741f262cb6f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a847a2d16d72c36303858741f262cb6f4">init</a> (const char *const &amp;queryString, const size_t &amp;queryLength, const <a class="el" href="a00064.html">Data::Set</a> *const parameterSet, const <a class="el" href="a00064.html">Data::Set</a> *const resultSet, bool customPlaceholders=false)</td></tr>
<tr class="memdesc:a847a2d16d72c36303858741f262cb6f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize statement.  <a href="#a847a2d16d72c36303858741f262cb6f4"></a><br/></td></tr>
<tr class="memitem:aa84152f747178c3d83ec0492a8ee0d2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#aa84152f747178c3d83ec0492a8ee0d2a">execute</a> (const <a class="el" href="a00064.html">Data::Set</a> *const parameters, <a class="el" href="a00067.html">Data::SetContainer</a> *const results, unsigned long long int *const insertId=0, unsigned long long int *const rows=0, bool docommit=true, const unsigned int thread=0)</td></tr>
<tr class="memdesc:aa84152f747178c3d83ec0492a8ee0d2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute multi-row result MySQL statement.  <a href="#aa84152f747178c3d83ec0492a8ee0d2a"></a><br/></td></tr>
<tr class="memitem:a5d3166231cfdc19a3c6d79222e422840"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a5d3166231cfdc19a3c6d79222e422840">execute</a> (const <a class="el" href="a00064.html">Data::Set</a> *const parameters, <a class="el" href="a00064.html">Data::Set</a> &amp;results, bool docommit=true, const unsigned int thread=0)</td></tr>
<tr class="memdesc:a5d3166231cfdc19a3c6d79222e422840"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute single result row MySQL statement.  <a href="#a5d3166231cfdc19a3c6d79222e422840"></a><br/></td></tr>
<tr class="memitem:af9ce85578ea5f49a1ec30a7ca440d72e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#af9ce85578ea5f49a1ec30a7ca440d72e">execute</a> (const <a class="el" href="a00067.html">Data::SetContainer</a> &amp;parameters, unsigned long long int *rows=0, bool docommit=true, const unsigned int thread=0)</td></tr>
<tr class="memdesc:af9ce85578ea5f49a1ec30a7ca440d72e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute result-less multi-row parameter MySQL statement.  <a href="#af9ce85578ea5f49a1ec30a7ca440d72e"></a><br/></td></tr>
<tr class="memitem:a1c62d58f960224a6f7ff93d74b6007ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a1c62d58f960224a6f7ff93d74b6007ad">queue</a> (<a class="el" href="a00056.html">QueryPar</a> &amp;query, int instance=-1)</td></tr>
<tr class="memdesc:a1c62d58f960224a6f7ff93d74b6007ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asynchronously execute a MySQL statement.  <a href="#a1c62d58f960224a6f7ff93d74b6007ad"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7ea849fb02de257a9285f03661d6473f"><td class="memItemLeft" align="right" valign="top">boost::scoped_array<br class="typebreak"/>
&lt; <a class="el" href="a00115.html#ae453f419cdfdae80df1911f5d2ecac2b">Data::Conversions</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#a7ea849fb02de257a9285f03661d6473f">paramsConversions</a></td></tr>
<tr class="memitem:a87c064e043bd1bf5fb41aef2901141b0"><td class="memItemLeft" align="right" valign="top">boost::scoped_array<br class="typebreak"/>
&lt; <a class="el" href="a00115.html#ae453f419cdfdae80df1911f5d2ecac2b">Data::Conversions</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00076.html#a87c064e043bd1bf5fb41aef2901141b0">resultsConversions</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a93de4a189b38d5db1ad279adc8fd004c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a93de4a189b38d5db1ad279adc8fd004c">executeParameters</a> (const <a class="el" href="a00064.html">Data::Set</a> *const &amp;parameters, const unsigned int thread)</td></tr>
<tr class="memdesc:a93de4a189b38d5db1ad279adc8fd004c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute parameter part of statement.  <a href="#a93de4a189b38d5db1ad279adc8fd004c"></a><br/></td></tr>
<tr class="memitem:a0eaf529f8d8f5e4a17c88ddbd2450d6e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a0eaf529f8d8f5e4a17c88ddbd2450d6e">executeResult</a> (<a class="el" href="a00064.html">Data::Set</a> &amp;row, const unsigned int thread)</td></tr>
<tr class="memdesc:a0eaf529f8d8f5e4a17c88ddbd2450d6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch a row of the results.  <a href="#a0eaf529f8d8f5e4a17c88ddbd2450d6e"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a4f4aa592e82b1d85e799c8ca8b43d4a5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a4f4aa592e82b1d85e799c8ca8b43d4a5">buildBindings</a> (MYSQL_STMT *const &amp;<a class="el" href="a00077.html#aaba865bd6b86a67cb77aae29f5900ba9">stmt</a>, const <a class="el" href="a00064.html">Data::Set</a> &amp;set, <a class="el" href="a00115.html#ae453f419cdfdae80df1911f5d2ecac2b">Data::Conversions</a> &amp;conversions, boost::scoped_array&lt; MYSQL_BIND &gt; &amp;bindings, const std::deque&lt; unsigned char &gt; *order=0)</td></tr>
<tr class="memdesc:a4f4aa592e82b1d85e799c8ca8b43d4a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build an array of MySQL C API prepared statement bindings.  <a href="#a4f4aa592e82b1d85e799c8ca8b43d4a5"></a><br/></td></tr>
<tr class="memitem:a9fb35e3770ca4e5d2e0d51c3c9cde1d6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a9fb35e3770ca4e5d2e0d51c3c9cde1d6">bindBindings</a> (<a class="el" href="a00064.html">Data::Set</a> &amp;set, <a class="el" href="a00115.html#ae453f419cdfdae80df1911f5d2ecac2b">Data::Conversions</a> &amp;conversions, boost::scoped_array&lt; MYSQL_BIND &gt; &amp;bindings, const std::deque&lt; unsigned char &gt; *order=0)</td></tr>
<tr class="memdesc:a9fb35e3770ca4e5d2e0d51c3c9cde1d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind an array of MySQL bindings to the passed data set.  <a href="#a9fb35e3770ca4e5d2e0d51c3c9cde1d6"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a177e1581cdcd33691796644e77b9f4fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00015.html">Connection</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a177e1581cdcd33691796644e77b9f4fa">connection</a></td></tr>
<tr class="memitem:aaba865bd6b86a67cb77aae29f5900ba9"><td class="memItemLeft" align="right" valign="top">boost::scoped_array&lt; MYSQL_STMT * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#aaba865bd6b86a67cb77aae29f5900ba9">stmt</a></td></tr>
<tr class="memdesc:aaba865bd6b86a67cb77aae29f5900ba9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to actual MySQL C API prepared statement object.  <a href="#aaba865bd6b86a67cb77aae29f5900ba9"></a><br/></td></tr>
<tr class="memitem:a2645a2846e9415b3ba466837f67b79dd"><td class="memItemLeft" align="right" valign="top">std::deque&lt; unsigned char &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a2645a2846e9415b3ba466837f67b79dd">paramOrder</a></td></tr>
<tr class="memdesc:a2645a2846e9415b3ba466837f67b79dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind data set object to query parameters.  <a href="#a2645a2846e9415b3ba466837f67b79dd"></a><br/></td></tr>
<tr class="memitem:abbef01bf67f656b7c0b4980d5034e84f"><td class="memItemLeft" align="right" valign="top">boost::scoped_array<br class="typebreak"/>
&lt; boost::scoped_array<br class="typebreak"/>
&lt; MYSQL_BIND &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#abbef01bf67f656b7c0b4980d5034e84f">paramsBindings</a></td></tr>
<tr class="memdesc:abbef01bf67f656b7c0b4980d5034e84f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of parameter bindings for use with the query.  <a href="#abbef01bf67f656b7c0b4980d5034e84f"></a><br/></td></tr>
<tr class="memitem:a3206d130883338654401c946f5b865fd"><td class="memItemLeft" align="right" valign="top">boost::scoped_array<br class="typebreak"/>
&lt; boost::scoped_array<br class="typebreak"/>
&lt; MYSQL_BIND &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a3206d130883338654401c946f5b865fd">resultsBindings</a></td></tr>
<tr class="memdesc:a3206d130883338654401c946f5b865fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of result bindings for use with the query.  <a href="#a3206d130883338654401c946f5b865fd"></a><br/></td></tr>
<tr class="memitem:a31851ea728649e5ea5406dce44c0b02f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a31851ea728649e5ea5406dce44c0b02f">m_initialized</a></td></tr>
<tr class="memitem:a695ab42af1c906ea1291dd4ded35bf06"><td class="memItemLeft" align="right" valign="top">boost::scoped_array&lt; const bool * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#a695ab42af1c906ea1291dd4ded35bf06">m_stop</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:abdc5c6ddf4d8c7f68e72afd51c7ab527"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#abdc5c6ddf4d8c7f68e72afd51c7ab527">ConnectionPar&lt; Statement &gt;</a></td></tr>
<tr class="memitem:acdcff308aaedf90ab752aaddefdca150"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html#acdcff308aaedf90ab752aaddefdca150">Transaction&lt; Statement &gt;</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>MySQL query statement. </p>
<p>This class will store up a prepared MySQL statement for both synchronous and asynchronous execution. It should be initialized either by the full constructor or <a class="el" href="a00077.html#a847a2d16d72c36303858741f262cb6f4" title="Initialize statement.">init()</a>. </p>

<p>Definition at line <a class="el" href="a00105_source.html#l00128">128</a> of file <a class="el" href="a00105_source.html">mysql.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a04bb1927300d27140ff8e00f7bdbcba8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ASql::MySQL::Statement::Statement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00015.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>connection_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>queryString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>queryLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00064.html">Data::Set</a> *const&#160;</td>
          <td class="paramname"><em>parameterSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00064.html">Data::Set</a> *const&#160;</td>
          <td class="paramname"><em>resultSet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Complete Constructor. </p>
<p>The constructor builds the query and the associated parameters/result data structures based on the template objects provided by resultSet and parameterSet. These should point to data structures derived from <a class="el" href="a00064.html">ASql::Data::Set</a>. The objects need not have any actual data in them as they are only used to find sizes and types of indexable member objects. A null pointer indicates no parameter/result data.</p>
<p>The SQL query string should be a valid SQL query with '?' as a placeholder for all parameters ex. "SELECT * FROM testTable WHERE
 id=?". Note the lack of a terminating semicolon and lack of quotations around the question marks. The number of question marks in the query should match up exactly with the value returned by a call of <a class="el" href="a00064.html#a09fedd0fedf319e49a365e379fa7e7ad" title="Get total number of indexable data members.">ASql::Data::Set::numberOfSqlElements()</a> on parameterSet. Similarly, the number of returned result columns from the query should match up with the same function called on resultSet.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connection_</td><td>MySQL connection to run query through. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">queryString</td><td>SQL query. No null termination. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">queryLength</td><td>Length of SQL query. No null termination. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parameterSet</td><td>Template object of parameter data set. Null means no parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resultSet</td><td>Template object of result data set. Null means no results. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00105_source.html#l00156">156</a> of file <a class="el" href="a00105_source.html">mysql.hpp</a>.</p>

<p>References <a class="el" href="a00077.html#a847a2d16d72c36303858741f262cb6f4">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b561d3c85e5e0866a503be046de44d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ASql::MySQL::Statement::Statement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00015.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>connection_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simple Constructor. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connection_</td><td>MySQL connection to run query through. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00105_source.html#l00172">172</a> of file <a class="el" href="a00105_source.html">mysql.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a667b95d0e8018e22e0377dd3181e8557"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ASql::MySQL::Statement::~Statement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00104_source.html#l00583">583</a> of file <a class="el" href="a00104_source.html">mysql.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9fb35e3770ca4e5d2e0d51c3c9cde1d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ASql::MySQL::Statement::bindBindings </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00064.html">Data::Set</a> &amp;&#160;</td>
          <td class="paramname"><em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00115.html#ae453f419cdfdae80df1911f5d2ecac2b">Data::Conversions</a> &amp;&#160;</td>
          <td class="paramname"><em>conversions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::scoped_array&lt; MYSQL_BIND &gt; &amp;&#160;</td>
          <td class="paramname"><em>bindings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::deque&lt; unsigned char &gt; *&#160;</td>
          <td class="paramname"><em>order</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bind an array of MySQL bindings to the passed data set. </p>
<p>This static function will take an object derived from a <a class="el" href="a00064.html">Data::Set</a> and bind a corresponding MySQL bind array. If a conversion is required the data set is not binded directly to the bindings array but through the corresponding conversion in the Conversions container.</p>
<p>This function is called before any statement is executed for parameter data, and before a row is fetched for result data.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">in/out]</td><td>set Reference to a data set object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">conversions</td><td>Reference to an array to pass conversion data through. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bindings</td><td>Reference to a MySQL bind array to write data to. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00104_source.html#l00415">415</a> of file <a class="el" href="a00104_source.html">mysql.cpp</a>.</p>

<p>References <a class="el" href="a00032.html#a715ee63cda13139290d1a89707cac0d8">ASql::Data::Index::data</a>, <a class="el" href="a00032.html#a2a297089e7b4b39c2c74733e4844d852">ASql::Data::Index::type</a>, and <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aac9f74b48aebd241fc52ec66e4f3be843">ASql::Data::U_TINY_N</a>.</p>

</div>
</div>
<a class="anchor" id="a4f4aa592e82b1d85e799c8ca8b43d4a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ASql::MySQL::Statement::buildBindings </td>
          <td>(</td>
          <td class="paramtype">MYSQL_STMT *const &amp;&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00064.html">Data::Set</a> &amp;&#160;</td>
          <td class="paramname"><em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00115.html#ae453f419cdfdae80df1911f5d2ecac2b">Data::Conversions</a> &amp;&#160;</td>
          <td class="paramname"><em>conversions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::scoped_array&lt; MYSQL_BIND &gt; &amp;&#160;</td>
          <td class="paramname"><em>bindings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::deque&lt; unsigned char &gt; *&#160;</td>
          <td class="paramname"><em>order</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Build an array of MySQL C API prepared statement bindings. </p>
<p>This static function will take an object derived from a <a class="el" href="a00064.html">Data::Set</a> and build a corresponding MySQL bind array. The objects need not have any actual data in them as they are only used to find sizes and types of indexable member objects. A null pointer indicates no parameter/result data.</p>
<p>A Conversions container is also built to accommodate any types that can not be written/read directly to/from the <a class="el" href="a00064.html">Data::Set</a> passed and will require conversion beforehand.</p>
<p>This function is only called once upon construction of the statement object. The resulting Conversions and MySQL bind arrays can be reused every time the statement is executed with a call to <a class="el" href="a00077.html#a9fb35e3770ca4e5d2e0d51c3c9cde1d6" title="Bind an array of MySQL bindings to the passed data set.">bindBindings()</a>.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>Reference to pointer to MySQL C API statement. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">set</td><td>Reference to a template object. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">conversions</td><td>Reference to an array to write conversion data to. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bindings</td><td>Reference to a MySQL bind array to write data to. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00104_source.html#l00276">276</a> of file <a class="el" href="a00104_source.html">mysql.cpp</a>.</p>

<p>References <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aa6aa9dbe4435055c89c315605ad1d0c20">ASql::Data::BIGINT</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aabbe68fcbf12d3820afbd675ac523cf73">ASql::Data::BINARY</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aa80a01cf396b7d8b8a99e36b18bd7394c">ASql::Data::BLOB</a>, <a class="el" href="a00084.html#a5d889b8818793d3eddea58aa9fd6ba8a">ASql::MySQL::TypedConversion&lt; T &gt;::buffer</a>, <a class="el" href="a00084.html#a9379c39a7cdd3c6213d03ac0c59b5b5e">ASql::MySQL::TypedConversion&lt; T &gt;::bufferType</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aaf3988206544c0d23ae18e80cc7fb717c">ASql::Data::CHAR</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aaa33446b581ae497fa3de1009c69bde2a">ASql::Data::DATE</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aa9bd4ef4682e649e523094b01048dccd5">ASql::Data::DATETIME</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aaad8da1caeb8271415d30820809c26ecc">ASql::Data::DOUBLE</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aab44ebd3613bc31391b4a7da62280c0a2">ASql::Data::FLOAT</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aa6f3d323b9db52d1172458be0fcdf4a74">ASql::Data::INT</a>, <a class="el" href="a00084.html#a66324e3b6253329eef332108257d2823">ASql::MySQL::TypedConversion&lt; T &gt;::length</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aa78ef202cc0280081542eb282e9c0768a">ASql::Data::SHORT</a>, <a class="el" href="a00032.html#a91725472e4a43de75af4a2a29a9a164a">ASql::Data::Index::size</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aaf8795032c649536d80e67a7b17b3212b">ASql::Data::TEXT</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aa363d7943cc37bfb182a3c520f47576ff">ASql::Data::TIME</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aa3efebc67620400d5581a767d1ed56e94">ASql::Data::TINY</a>, <a class="el" href="a00032.html#a2a297089e7b4b39c2c74733e4844d852">ASql::Data::Index::type</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aac3f220c0c078651507256438f4b42589">ASql::Data::U_BIGINT</a>, <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aac9f74b48aebd241fc52ec66e4f3be843">ASql::Data::U_TINY_N</a>, and <a class="el" href="a00115.html#a107ef2aef3f4080d1906c69e0960d65aa2664e89b03d0131b4220252b30f50245">ASql::Data::WTEXT</a>.</p>

</div>
</div>
<a class="anchor" id="aa84152f747178c3d83ec0492a8ee0d2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ASql::MySQL::Statement::execute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00064.html">Data::Set</a> *const&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00067.html">Data::SetContainer</a> *const&#160;</td>
          <td class="paramname"><em>results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long int *const&#160;</td>
          <td class="paramname"><em>insertId</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long int *const&#160;</td>
          <td class="paramname"><em>rows</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>docommit</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>thread</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute multi-row result MySQL statement. </p>
<p>Executes the built query with the passed parameter data storing the results in the passed results container. The number of rows affected or total matching rows can be retrieved by passing the proper pointer to rows. If SQL_CALC_FOUND_ROWS is included in a select statement then this value will represent the total matching rows regardless of a LIMIT clause. The last insert value on a auto-incremented column can also be retrieved with an appropriate pointer in insertId.</p>
<p>The <a class="el" href="a00064.html">Data::Set</a> pointed to by parameters must have the same derived type as was passed upon construction of the statement. A null pointer, as in the constructor, indicates no parameter data. The results parameter should be a pointer to a <a class="el" href="a00067.html" title="Base class for containers of Data::Set objects to be used for result/parameter data in SQL queries...">Data::SetContainer</a> templated to the same derived type passed upon construction of the statement for the result set. As well, a null pointer indicates no result data.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">parameters</td><td>Data set of MySQL query parameter data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">results</td><td>Data set container of MySQL query result data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">insertId</td><td>Pointer to integer for writing of last auto-increment insert value. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rows</td><td>Pointer to integer for writing the number of rows affected/matching from last query. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">docommit</td><td>Set to true a transaction commit should be completed at the end of this query. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00104_source.html#l00194">194</a> of file <a class="el" href="a00104_source.html">mysql.cpp</a>.</p>

<p>References <a class="el" href="a00067.html#a12cc33aebdf1d2d81e5df4695c340aee">ASql::Data::SetContainer::manufacture()</a>, and <a class="el" href="a00067.html#abb87f2282640ec6be428a1240deb74de">ASql::Data::SetContainer::trim()</a>.</p>

</div>
</div>
<a class="anchor" id="a5d3166231cfdc19a3c6d79222e422840"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ASql::MySQL::Statement::execute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00064.html">Data::Set</a> *const&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00064.html">Data::Set</a> &amp;&#160;</td>
          <td class="paramname"><em>results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>docommit</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>thread</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute single result row MySQL statement. </p>
<p>Executes the built query with the passed parameter data storing the results in the passed results set. This simple alternative exists for cases where the user is certain that only a single result row will be returned and there will be no need for a container of sets.</p>
<p>The <a class="el" href="a00064.html">Data::Set</a> pointed to by parameters must have the same derived type as was passed upon construction of the statement. A null pointer, as in the constructor, indicates no parameter data. The results parameter should be a <a class="el" href="a00064.html">Data::Set</a> templated to the same derived type passed upon construction of the statement for the single result result row.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">parameters</td><td>Data set of MySQL query parameter data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">results</td><td>Set to store single result row in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">docommit</td><td>Set to true a transaction commit should be completed at the end of this query.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>True if result data was recieved, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="a00104_source.html#l00239">239</a> of file <a class="el" href="a00104_source.html">mysql.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af9ce85578ea5f49a1ec30a7ca440d72e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ASql::MySQL::Statement::execute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00067.html">Data::SetContainer</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long int *&#160;</td>
          <td class="paramname"><em>rows</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>docommit</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>thread</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute result-less multi-row parameter MySQL statement. </p>
<p>Executes the built query with the passed parameter data storing no results. This alternative exists to allow users to execute multi-rows parameter queries which obviously will not return any data. (INSERT UPDATE DELETE) and such.</p>
<p>The <a class="el" href="a00067.html" title="Base class for containers of Data::Set objects to be used for result/parameter data in SQL queries...">Data::SetContainer</a> referenced to by parameters must have the same derived type as was passed upon construction of the statement. a <a class="el" href="a00067.html" title="Base class for containers of Data::Set objects to be used for result/parameter data in SQL queries...">Data::SetContainer</a> templated to the same derived type passed upon construction of the statement for the single result result row.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">parameters</td><td>Data set of MySQL query parameter data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rows</td><td>Pointer to integer for writing the number of rows affected from last query. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">docommit</td><td>Set to true a transaction commit should be completed at the end of this query. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00104_source.html#l00256">256</a> of file <a class="el" href="a00104_source.html">mysql.cpp</a>.</p>

<p>References <a class="el" href="a00067.html#ab1886b3d39615f65c0686a253fa9514f">ASql::Data::SetContainer::init()</a>, and <a class="el" href="a00067.html#ae2a98d05291a30bab98dd1fe694f9fa5">ASql::Data::SetContainer::pull()</a>.</p>

</div>
</div>
<a class="anchor" id="a93de4a189b38d5db1ad279adc8fd004c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ASql::MySQL::Statement::executeParameters </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00064.html">Data::Set</a> *const &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>thread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute parameter part of statement. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">parameters</td><td>Parameters to use in query </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00104_source.html#l00164">164</a> of file <a class="el" href="a00104_source.html">mysql.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0eaf529f8d8f5e4a17c88ddbd2450d6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ASql::MySQL::Statement::executeResult </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00064.html">Data::Set</a> &amp;&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>thread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetch a row of the results. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">row</td><td>Set to store results in</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true normally, false if no data </dd></dl>

<p>Definition at line <a class="el" href="a00104_source.html#l00177">177</a> of file <a class="el" href="a00104_source.html">mysql.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a847a2d16d72c36303858741f262cb6f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ASql::MySQL::Statement::init </td>
          <td>(</td>
          <td class="paramtype">const char *const &amp;&#160;</td>
          <td class="paramname"><em>queryString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t &amp;&#160;</td>
          <td class="paramname"><em>queryLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00064.html">Data::Set</a> *const&#160;</td>
          <td class="paramname"><em>parameterSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00064.html">Data::Set</a> *const&#160;</td>
          <td class="paramname"><em>resultSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>customPlaceholders</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize statement. </p>
<p>The initializer builds the query and the associated parameters/result data structures based on the template objects provided by resultSet and parameterSet. These should point to data structures derived from <a class="el" href="a00064.html">ASql::Data::Set</a>. The objects need not have any actual data in them as they are only used to find sizes and types of indexable member objects. A null pointer indicates no parameter/result data.</p>
<p>The SQL query string should be a valid SQL query with '?' as a placeholder for all parameters ex. "SELECT * FROM testTable WHERE
 id=?". Note the lack of a terminating semicolon and lack of quotations around the question marks. The number of question marks in the query should match up exactly with the value returned by a call of <a class="el" href="a00064.html#a09fedd0fedf319e49a365e379fa7e7ad" title="Get total number of indexable data members.">ASql::Data::Set::numberOfSqlElements()</a> on parameterSet. Similarly, the number of returned result columns from the query should match up with the same function called on resultSet.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">queryString</td><td>SQL query. No null termination. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">queryLength</td><td>Length of SQL query. No null termination. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parameterSet</td><td>Template object of parameter data set. Null means no parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resultSet</td><td>Template object of result data set. Null means no results. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00104_source.html#l00097">97</a> of file <a class="el" href="a00104_source.html">mysql.cpp</a>.</p>

<p>References <a class="el" href="a00120.html#aa64cb0e8d7014c2180f9b4d82a006c99">Fastcgipp::Http::atoi()</a>.</p>

<p>Referenced by <a class="el" href="a00077.html#a04bb1927300d27140ff8e00f7bdbcba8">Statement()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c62d58f960224a6f7ff93d74b6007ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ASql::MySQL::Statement::queue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00056.html">QueryPar</a> &amp;&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>instance</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Asynchronously execute a MySQL statement. </p>
<p>This function will queue the statement to be executed in a separate thread and return immediately. The information for <a class="el" href="a00077.html#aa84152f747178c3d83ec0492a8ee0d2a" title="Execute multi-row result MySQL statement.">execute()</a> applies here with a few minor differences. For one, shared pointers are passed to prevent data being destroyed in one thread before it is finished with in another (segfault). So don't cheat, make sure they are shared pointer controlled on your end as well.</p>
<p>For two, a callback function is supplied to be called when the query is complete. The data passed is a <a class="el" href="a00024.html" title="SQL Error.">ASql::Error</a> data structure.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">in/out]</td><td><a class="el" href="a00056.html" title="Parent class for storing query data to be passed and retrieved from statements.">QueryPar</a> object to manage the asynchronous execution of the query. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00105_source.html#l00291">291</a> of file <a class="el" href="a00105_source.html">mysql.hpp</a>.</p>

<p>References <a class="el" href="a00077.html#a177e1581cdcd33691796644e77b9f4fa">connection</a>, and <a class="el" href="a00017.html#a3958abbe7d4b0648190fc97779b54423">ASql::ConnectionPar&lt; T &gt;::queue()</a>.</p>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="abdc5c6ddf4d8c7f68e72afd51c7ab527"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="a00017.html">ConnectionPar</a>&lt; <a class="el" href="a00077.html">Statement</a> &gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00105_source.html#l00369">369</a> of file <a class="el" href="a00105_source.html">mysql.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="acdcff308aaedf90ab752aaddefdca150"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="a00116.html#ae5c2ac1671680dfec10fecccd5ae0fb3">Transaction</a>&lt; <a class="el" href="a00077.html">Statement</a> &gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00105_source.html#l00370">370</a> of file <a class="el" href="a00105_source.html">mysql.hpp</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a177e1581cdcd33691796644e77b9f4fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00015.html">Connection</a>&amp; ASql::MySQL::Statement::connection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00105_source.html#l00296">296</a> of file <a class="el" href="a00105_source.html">mysql.hpp</a>.</p>

<p>Referenced by <a class="el" href="a00077.html#a1c62d58f960224a6f7ff93d74b6007ad">queue()</a>.</p>

</div>
</div>
<a class="anchor" id="a31851ea728649e5ea5406dce44c0b02f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ASql::MySQL::Statement::m_initialized</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00105_source.html#l00365">365</a> of file <a class="el" href="a00105_source.html">mysql.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a695ab42af1c906ea1291dd4ded35bf06"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_array&lt;const bool*&gt; ASql::MySQL::Statement::m_stop</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00105_source.html#l00367">367</a> of file <a class="el" href="a00105_source.html">mysql.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2645a2846e9415b3ba466837f67b79dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::deque&lt;unsigned char&gt; ASql::MySQL::Statement::paramOrder</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bind data set object to query parameters. </p>

<p>Definition at line <a class="el" href="a00105_source.html#l00302">302</a> of file <a class="el" href="a00105_source.html">mysql.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="abbef01bf67f656b7c0b4980d5034e84f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_array&lt;boost::scoped_array&lt;MYSQL_BIND&gt; &gt; ASql::MySQL::Statement::paramsBindings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Array of parameter bindings for use with the query. </p>

<p>Definition at line <a class="el" href="a00105_source.html#l00305">305</a> of file <a class="el" href="a00105_source.html">mysql.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7ea849fb02de257a9285f03661d6473f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_array&lt;<a class="el" href="a00115.html#ae453f419cdfdae80df1911f5d2ecac2b">Data::Conversions</a>&gt; ASql::Statement::paramsConversions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00092_source.html#l00204">204</a> of file <a class="el" href="a00092_source.html">asql.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3206d130883338654401c946f5b865fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_array&lt;boost::scoped_array&lt;MYSQL_BIND&gt; &gt; ASql::MySQL::Statement::resultsBindings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Array of result bindings for use with the query. </p>

<p>Definition at line <a class="el" href="a00105_source.html#l00308">308</a> of file <a class="el" href="a00105_source.html">mysql.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a87c064e043bd1bf5fb41aef2901141b0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_array&lt;<a class="el" href="a00115.html#ae453f419cdfdae80df1911f5d2ecac2b">Data::Conversions</a>&gt; ASql::Statement::resultsConversions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00092_source.html#l00205">205</a> of file <a class="el" href="a00092_source.html">asql.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aaba865bd6b86a67cb77aae29f5900ba9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::scoped_array&lt;MYSQL_STMT*&gt; ASql::MySQL::Statement::stmt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to actual MySQL C API prepared statement object. </p>

<p>Definition at line <a class="el" href="a00105_source.html#l00299">299</a> of file <a class="el" href="a00105_source.html">mysql.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="a00105_source.html">mysql.hpp</a></li>
<li><a class="el" href="a00104_source.html">mysql.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 22 2012 20:35:53 for fastcgi++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1
</small></address>
</body>
</html>
